import{r as yt}from"../chunks/DxGJWrS1.js";import{g as I}from"../chunks/C_S5TygX.js";import"../chunks/CuKIkSf6.js";import{u as j,t as ht}from"../chunks/Bvbqq-zN.js";import"../chunks/BDr9Qe-U.js";import"../chunks/69_IOA4Y.js";import{p as Z,c as e,s,r as a,t as R,a as X,m as h,g as t,l as Ct,d as kt,e as Y,ad as Vt,b as u,f as tt}from"../chunks/BWmI7Kwv.js";import{s as z,h as Pt}from"../chunks/CpvBVgdC.js";import{i as A,s as St,a as Tt}from"../chunks/DJyY-Ao_.js";import{t as G,a as D,c as Dt}from"../chunks/cR8EBM7j.js";import{s as et}from"../chunks/Dui37nOO.js";import{i as at}from"../chunks/CvLKQSYC.js";import{o as Bt}from"../chunks/DjNUT-oc.js";import{i as it,a as Ot,r as $t,g as Et,k as Mt,c as Nt}from"../chunks/DWJ43-ZD.js";import{g as It}from"../chunks/DcAP65h3.js";import{r as zt}from"../chunks/CR2liGHp.js";import{A as At,__tla as Gt}from"../chunks/Djyhf4cp.js";import{B as st}from"../chunks/BErKQ2SA.js";import{P as qt}from"../chunks/Br0AyJpI.js";import{g as ot}from"../chunks/BoEBYeq-.js";import{e as rt}from"../chunks/Cio8JTVh.js";import{p as Jt}from"../chunks/Dtj4eyj4.js";import{a as Lt}from"../chunks/ClXJh1T-.js";import{g as Ut,r as Wt,B as lt,S as jt,C as Rt,__tla as Yt}from"../chunks/CY6V76w3.js";import{b as Ft,__tla as Ht}from"../chunks/Cf2TjtaF.js";import{I as Kt}from"../chunks/_Vcui5w2.js";import{s as Qt}from"../chunks/D6ovqnLS.js";import{i as Zt}from"../chunks/CJxW89IG.js";let nt,mt,Xt=Promise.all([(()=>{try{return Gt}catch{}})(),(()=>{try{return Yt}catch{}})(),(()=>{try{return Ht}catch{}})()]).then(async()=>{function ct({url:C}){{const l=I(j).active_role==="principal",k=I(j).profile_completion_step==0;if(l&&k)throw yt(302,"/account/institution/details")}return{}}mt=Object.freeze(Object.defineProperty({__proto__:null,load:ct},Symbol.toStringTag,{value:"Module"}));async function pt(){const C=I(j).school_id,l=await zt(At.PAYMENT_STATUS,{competition_id:C,grade:"0",inquiry_type:1});return l.error_code==0&&l.data!=null?l.data:null}var dt=G('<div class="w-full mx-auto max-w-[400px] md:max-w-[2000px] md:w-[640px] lg:w-[912px] px-1 sm:px-0"><div class="bg-white rounded-3xl border border-gray-200 shadow-sm overflow-hidden card-button-shadow"><div class="text-left p-4 text-[#313644] font-semibold text-xl sm:text-2xl w-full"><div class="max-w-full overflow-hidden">Welcome to Global Climate Literacy Competitions</div></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-0"><div class="px-4 pt-2 pb-4"><div class="text-sm font-semibold text-gray-600 mb-2">STEP 1</div> <div class="text-sm text-gray-500 mb-2 font-medium">Players go to:</div> <div class="border border-[#DCDCDC] rounded-[15px] px-3 py-2 h-[4.25rem] cursor-pointer hover:bg-gray-50 transition-colors flex items-center" role="button" tabindex="0"><span class="text-sm sm:text-lg font-medium text-gray-800 truncate !font-poppins tracking-wider"></span></div></div> <div class="px-4 pt-2 pb-4"><div class="text-sm font-semibold text-gray-600 mb-2">STEP 2</div> <div class="text-sm font-medium text-gray-500 mb-2">Enter Voucher Code:</div> <div class="border border-[#DCDCDC] rounded-[15px] px-3 py-2 h-[4.25rem] flex items-center justify-between"><span class="font-semibold text-gray-800 truncate mr-2 text-lg sm:text-2xl font-poppins tracking-widest"> </span> <!></div></div></div></div></div>');function vt(C,l){Z(l,!1);let k=Jt(l,"paymentData",8);const f=window.location.origin,p=(f!=null&&f.startsWith("http")?f:`https://${f}`).replace(/^https?:\/\//,"");function q(){var m;navigator.clipboard.writeText((m=k())==null?void 0:m.institution_voucher_code),Lt("Voucher copied successfully")}function b(){window.open(`https://${p}`,"_blank")}at();var g=dt(),n=e(g),V=s(e(n),2),w=e(V),_=s(e(w),4),d=e(_);d.textContent=`${p??""}/competitions`,a(_),a(w);var y=s(w,2),J=s(e(y),4),B=e(J),O=e(B,!0);a(B);var F=s(B,2);st(F,{label:"Copy",size:"small",type:"primary",customClass:"w-[80px] sm:w-[98px] bg-blue-500 text-white",onClick:q}),a(J),a(y),a(V),a(n),a(g),R(()=>{var m;return z(O,(m=k())==null?void 0:m.institution_voucher_code)}),rt("click",_,b),rt("keydown",_,m=>(m.key==="Enter"||m.key===" ")&&b()),D(C,g),X()}var xt=G('<div class="flex flex-col items-center mb-8"> <!></div>'),ut=G('<div class="w-full mb-8"><!></div> <!> <!> <!>',1),ft=G('<div class="flex flex-col items-center space-y-10"> <!> <div class="card-button-shadow bg-white rounded-2xl p-8 space-y-4 max-w-[400px] md:max-w-[2000px] md:w-[640px] lg:w-[912px]"><div class="font-bold text-2xl"> </div> <div class="text-lg"> </div> <div class="pt-2"><!></div></div> <div class="card-button-shadow bg-white rounded-2xl p-8 space-y-4 max-w-[400px] md:max-w-[2000px] md:w-[640px] lg:w-[912px]"><div class="relative w-full" style="padding-top: 56.25%;"><iframe class="absolute top-0 left-0 w-full h-full" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe></div> <div class="font-semibold md:text-2xl text-xl text-gray-900"> </div></div></div>'),bt=G('<div class="container mx-auto px-4 md:px-6 lg:px-8 mb-8"><!></div>');nt=function(C,l){Z(l,!1);const[k,f]=St(),p=()=>Tt(ht,"$t",k),q=I(it);let b=h(q.banner_text?JSON.parse(q.banner_text):null);const g=I(j);let n=h("");Qt.set({visible:!1});let V=h([]),w=h([]),_=h(!0),d=h(!1),y=h(null);async function J(){const o=await Ft();u(w,o.data.competitions);let i=t(w).map(v=>$t(v,{banner_image:"image",competition_id:"id",name:"title"}));u(V,i),u(_,!1),Wt()}Bt(async()=>{it.subscribe(o=>{let i=o;i!=null&&i.banner_text?u(b,JSON.parse(i.banner_text)):u(b,null)}),Ot.set({visible:!0,backLabel:"",isLogoVisible:!0,isCoinVisible:!1,isBackButtonVisible:!1,isVoucherButtonVisible:!1,isVoucherModalVisible:!1,isNotificationVisible:!1,isShowPaymentBanner:!1,isShowRules:!1,isProfileVisible:!0}),u(y,await pt()),t(y)&&t(y).is_subscribed==1&&(u(d,!0),await J())});const B=()=>{ot("/payment")};console.log("this is final text",t(n),t(d)),Ct(()=>(t(d),t(b)),()=>{var o;u(n,Ut(g==null?void 0:g.active_role,t(d)?1:0,(o=t(b))==null?void 0:o.banner_text).text)}),kt(),at();var O=bt();Pt(o=>{R(i=>Vt.title=i,[()=>It(p()("competitions"))],Y)});var F=e(O);{var m=o=>{var i=ut(),v=tt(i),L=e(v);qt(L,{get icon(){return Kt.COMPETITION_IMG},title:"competitions",imageClass:"w-9 h-11 sm:w-13 sm:h-11"}),a(v);var U=s(v,2);{var $=r=>{var x=xt(),S=e(x),T=s(S);lt(T,{get text(){return t(n)}}),a(x),R(c=>z(S,`${c??""} `),[()=>console.log("this is false running 0",t(d),t(n))],Y),D(r,x)};A(U,r=>{t(n)&&r($)})}var P=s(U,2);vt(P,{get paymentData(){return t(y)}});var H=s(P,2);{var E=r=>{jt(r,{})},K=r=>{var x=Dt(),S=tt(x);{var T=c=>{Rt(c,{get competitions(){return t(V)},onItemClick:W=>{const M=Mt(W,t(w),"competition_id");Nt.set(M),ot("competitions/"+M.url+"/overview")}})};A(S,c=>{t(V).length>0&&c(T)},!0)}D(r,x)};A(H,r=>{t(_)?r(E):r(K,!1)})}D(o,i)},gt=o=>{var i=ft(),v=e(i);v.nodeValue=`${console.log("this is false running")??""} `;var L=s(v);{var U=N=>{lt(N,{get text(){return t(n)}})};A(L,N=>{t(n)&&N(U)})}var $=s(L,2),P=e($),H=e(P,!0);a(P);var E=s(P,2),K=e(E,!0);a(E);var r=s(E,2),x=e(r);const S=Y(()=>p()("continue_pay"));st(x,{get label(){return t(S)},width:"full",onClick:B}),a(r),a($);var T=s($,2),c=e(T),W=e(c);et(W,"src",Zt?"https://player.vimeo.com/video/1018226363?h=fb809ecf76":"https://player.vimeo.com/video/1018288891?"),a(c);var M=s(c,2),wt=e(M,!0);a(M),a(T),a(i),R((N,_t,Q)=>{z(H,N),z(K,_t),et(W,"title",Q),z(wt,Q)},[()=>p()("pay_access"),()=>p()("pay_message"),()=>Et(p(),"bonzo_overview")],Y),D(o,i)};A(F,o=>{t(d)?o(m):o(gt,!1)})}a(O),D(C,O),X(),f()}});export{Xt as __tla,nt as component,mt as universal};
