import"../chunks/BDr9Qe-U.js";import"../chunks/69_IOA4Y.js";import{p as z,t as E,a as U,s as o,c as t,d as M,r as s,n as yt,l as bt,e as ht,b as l,m as Y,g as f,f as wt}from"../chunks/UMRfY9Ko.js";import{s as u}from"../chunks/Bq4tIOc4.js";import{s as G,a as j,i as q}from"../chunks/C8EeH_y7.js";import{t as O,a as b,e as Z}from"../chunks/D7kVQxiR.js";import{s as J}from"../chunks/CBgq6MFg.js";import{e as gt}from"../chunks/D7M_RLsn.js";import{i as K}from"../chunks/DwRdgw7B.js";import{o as St}from"../chunks/D_1OQ_gr.js";import{a as Pt,c as Ct}from"../chunks/zx05KRmR.js";import{t as Q}from"../chunks/KgIHh09F.js";import{P as tt,d as Et,v as It,e as st,p as Nt,i as Vt,h as Bt,j as kt,__tla as Mt}from"../chunks/DFlH5I6x.js";import{I as D}from"../chunks/CUEp9C6H.js";import{g as at}from"../chunks/Bhxzz1gg.js";import{p as Ot}from"../chunks/DMPqjojU.js";import{b as Tt,__tla as At}from"../chunks/DO_Z3Jwx.js";import{e as $t}from"../chunks/CpOe2gu7.js";import{a as et}from"../chunks/DAxMji9q.js";import{S as jt}from"../chunks/BTDGatFf.js";import{T as Dt,__tla as Lt}from"../chunks/CabsAf8L.js";let rt,Rt=Promise.all([(()=>{try{return Mt}catch{}})(),(()=>{try{return At}catch{}})(),(()=>{try{return Lt}catch{}})()]).then(async()=>{var it=O('<footer class="bg-white py-8 px-4 w-full"><div class="container mx-auto max-w-6xl flex flex-col md:flex-row justify-between items-start md:items-center"><div class="mb-6 md:mb-0"><h2 class="text-[#02BBFE] font-bold text-base mb-2"> </h2> <p class="text-gray-700 text-xs">Need our help? Our support team is available for<br> 24/7 assistance for you.</p></div> <div class="flex flex-col space-y-4"><div class="flex items-center gap-2"><img alt="Phone" class="h-4 w-4"> <span class="text-gray-700 text-xs"> </span></div> <div class="flex items-center gap-2"><img alt="Email" class="h-4 w-4"> <span class="text-gray-700 text-xs "> </span></div></div></div></footer>');function ot(I,N){z(N,!1);const[h,V]=G(),w=()=>j(Q,"$t",h);K();var n=it(),e=t(n),a=t(e),x=t(a),m=t(x,!0);s(x),yt(2),s(a);var g=o(a,2),_=t(g),T=t(_),S=o(T,2),A=t(S,!0);s(S),s(_);var B=o(_,2),k=t(B),$=o(k,2),L=t($,!0);s($),s(B),s(g),s(e),s(n),E(R=>{u(m,R),J(T,"src",D.PHONE_ICON),u(A,tt.PHONE),J(k,"src",D.MESSAGE_ICON),u(L,tt.EMAIL)},[()=>w()("help_support")],M),b(I,n),U(),V()}var nt=O('<div class="flex flex-col items-center justify-center p-6 h-96"><div class="mb-6"><svg class="animate-spin h-16 w-16 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div> <p class="text-center text-gray-800 mb-2"> </p> <p class="text-center text-gray-500 text-sm"> </p></div>');function ct(I,N){z(N,!1);const[h,V]=G(),w=()=>j(Q,"$t",h);K();var n=nt(),e=o(t(n),2),a=t(e,!0);s(e);var x=o(e,2),m=t(x,!0);s(x),s(n),E((g,_)=>{u(a,g),u(m,_)},[()=>w()("payment_processing"),()=>w()("your_payment_is_being_processed_securely")],M),b(I,n),U(),V()}var lt=O('<div class="w-full text-center mb-6"><p class="text-gray-800 font-semibold"> </p></div>'),mt=O('<div class="w-8 h-8 rounded-full flex items-center justify-center mb-4 mt-6"><img alt="Success Icon" class="w-8 h-8"></div> <h1 class="text-2xl font-bold text-center mb-2"> </h1> <p class="text-gray-600 text-center mb-6"> </p> <!> <!> <button class="mt-8 bg-[#02BBFE] text-white font-semibold py-3 px-6 rounded-lg transition duration-200 w-full max-w-sm"><!></button>',1),pt=O('<div class="flex items-center justify-center"><div class="w-full mx-auto flex flex-col items-center"><!> <!> <!></div></div>');rt=function(I,N){z(N,!1);const[h,V]=G(),w=()=>j(Ot,"$paymentStore",h),n=()=>j(Q,"$t",h),e=Y();let a=Y({transactionStatus:null,transactionRef:"",amount:"",durationMonths:0,payment_mode:"",subscription_end_date:""});Et(new Date);let x=3,m=Y(!1);const g=[{title:"Choose Payment"},{title:"Confirm"},{title:"Payment Status"}],_=async(r,d=10,v=5e3)=>{let i=0;const P=async()=>{if(i>=d){l(m,!0);return}i++;const y=await st(r);if(y.response_status==="111"){l(a,y.data),l(m,!1);return}else if(y.response_status==="222"){l(a,y.data),l(m,!1);return}else y.response_status==="333"&&(l(m,!0),setTimeout(P,v))};await P()};St(async()=>{setTimeout(async()=>{Pt.set({isProfileVisible:!0,visible:!0,backLabel:"",isLogoVisible:!0,isCoinVisible:!0,isBackButtonVisible:!1,isVoucherButtonVisible:!1,isVoucherModalVisible:!1,isNotificationVisible:!1,isShowPaymentBanner:!1,isShowRules:!1})},50);const r=new URLSearchParams(window.location.search),d=r.get("TransactionToken"),v=r.get("epgw_payment_payload");if(et){if(d){const i=await It(d);l(a,i.data)}else if(v){const i=await st(v);i.response_status==="333"?(l(m,!0),await _(v)):(l(a,i.data),l(m,!1))}}else{const i=Nt(r);i!=null&&i.data&&l(a,i.data)}});const T=async()=>{const r=await Tt();if(f(e)){const d=$t(w().competition_id,r.data.competitions,"competition_id");Ct.set(d),at("/competitions/"+d.url+"/home")}else at("/payment")};bt(()=>f(a),()=>{l(e,Vt(f(a)))}),ht(),K();var S=pt(),A=t(S),B=t(A);jt(B,{steps:g,activeStep:x});var k=o(B,2);{var $=r=>{ct(r,{})},L=r=>{var d=mt(),v=wt(d),i=t(v);s(v);var P=o(v,2),y=t(P,!0);s(P);var F=o(P,2),ft=t(F,!0);s(F);var W=o(F,2);{var dt=c=>{var p=lt(),C=t(p),_t=t(C);s(C),s(p),E(()=>u(_t,`Order ID: ${f(a).transactionRef||"Processing..."}`)),b(c,p)};q(W,c=>{et||c(dt)})}var X=o(W,2);Dt(X,{get successful(){return f(e)},get paymentData(){return f(a)}});var H=o(X,2),ut=t(H);{var vt=c=>{var p=Z();E(C=>u(p,C),[()=>n()("go_to_my_competitions")],M),b(c,p)},xt=c=>{var p=Z();E(C=>u(p,C),[()=>n()("try_again")],M),b(c,p)};q(ut,c=>{f(e)?c(vt):c(xt,!1)})}s(H),E((c,p)=>{J(i,"src",f(e)?D.PAYMENT_SUCCESS_ICON:D.PAYMENT_FAILED_ICON),u(y,c),u(ft,p)},[()=>Bt(f(e),n()),()=>kt(f(e),n())],M),gt("click",H,T),b(r,d)};q(k,r=>{f(m)?r($):r(L,!1)})}var R=o(k,2);ot(R,{}),s(A),s(S),b(I,S),U(),V()}});export{Rt as __tla,rt as component};
