import"../chunks/BDr9Qe-U.js";import"../chunks/69_IOA4Y.js";import{p as q,l as pe,d as he,g as t,a as z,c as n,s as w,m as y,r as l,b as m,t as ge,e as _e,ad as be,f as A}from"../chunks/BWmI7Kwv.js";import{h as we}from"../chunks/CpvBVgdC.js";import{t as f,a as c,c as ye}from"../chunks/cR8EBM7j.js";import{i as _,s as xe,a as Ie}from"../chunks/DJyY-Ao_.js";import{i as B}from"../chunks/CvLKQSYC.js";import{o as Ce}from"../chunks/DjNUT-oc.js";import{t as Ee}from"../chunks/Bvbqq-zN.js";import{f as Ne,h as Se,i as ke,__tla as De}from"../chunks/Cf2TjtaF.js";import{e as j}from"../chunks/Cio8JTVh.js";import{r as Le}from"../chunks/Dui37nOO.js";import{b as Fe}from"../chunks/D8KE6gRb.js";import{p as Oe}from"../chunks/Dtj4eyj4.js";import{L as P,__tla as Re}from"../chunks/CtjIkREP.js";import{I as S}from"../chunks/_Vcui5w2.js";import{P as je}from"../chunks/Br0AyJpI.js";import{N as G}from"../chunks/DeT2Bmte.js";import{L as Pe}from"../chunks/BprvYnHi.js";import{g as Me}from"../chunks/BoEBYeq-.js";import"../chunks/D7NkiQyh.js";let H,Te=Promise.all([(()=>{try{return De}catch{}})(),(()=>{try{return Re}catch{}})()]).then(async()=>{var K=f('<button class="absolute right-5 top-1/2 transform -translate-y-1/2 text-white text-xl" aria-label="Clear search"><i class="i i-cross"></i></button>'),Q=f('<button class="absolute right-5 top-1/2 transform -translate-y-1/2 text-white text-2xl pointer-events-none" aria-label="Search"><i class="i i-search2"></i></button>'),Y=f('<div class="w-full"><div class="relative"><input type="text" placeholder="Search your friends by their name" class="w-full px-4 py-3 pr-10 rounded-full bg-blue-900/60 text-white placeholder-white focus:outline-none focus:ring-2 focus:ring-blue-300" aria-label="Search your friends"> <!></div></div>');function J(k,I){q(I,!1);let C=Oe(I,"onSearch",8,i=>{}),d=y("");function E(){t(d).trim()!==""&&C()(t(d))}function b(i){i.key==="Enter"&&E()}function p(){m(d,""),C()("")}pe(()=>t(d),()=>{t(d)===""&&p()}),he(),B();var h=Y(),N=n(h),o=n(N);Le(o);var u=w(o,2);{var D=i=>{var g=K();j("click",g,p),c(i,g)},x=i=>{var g=Q();j("click",g,E),c(i,g)};_(u,i=>{t(d)?i(D):i(x,!1)})}l(N),l(h),Fe(o,()=>t(d),i=>m(d,i)),j("keydown",o,b),c(k,h),z()}var U=f('<div class="w-full overflow-x-hidden mt-5 mb-20 md:mb-10"><!></div>'),V=f('<div class="w-full overflow-x-hidden mt-5 mb-20 md:mb-10"><!></div>'),W=f('<div class="w-full overflow-x-hidden mt-5 mb-20 md:mb-10"><!></div>'),X=f('<div class="w-full overflow-x-hidden mt-5 mb-20 md:mb-10"><!></div>'),Z=f('<div class="w-full overflow-x-hidden mt-5 mb-20 md:mb-10"><!></div>'),ee=f("<!> <!> <!> <!>",1),te=f('<div class="flex justify-center w-full px-4 sm:px-6 md:px-8 lg:px-10"><div class="w-full max-w-screen-lg space-y-6"><div class="w-full"><!></div> <div class="w-full mb-9"><!></div> <!></div></div>');H=function(k,I){q(I,!1);const[C,d]=xe(),E=()=>Ie(Ee,"$t",C);let b=y([]),p=y([]),h=y([]),N="",o=y(!0),u=y(!1);Ce(async()=>{try{const e=await Ne(N);m(b,(e==null?void 0:e.data.recommendations)??[]),m(h,(e==null?void 0:e.data.users)??[])}catch(e){console.error("Error fetching competition friends:",e)}finally{m(o,!1)}});async function D(e){if(!e){m(u,!1),m(p,[]);return}try{m(o,!0);const s=await Se(e);m(p,(s==null?void 0:s.data.users)??[]),m(u,!0)}catch(s){console.error("Error searching friends:",s)}finally{m(o,!1)}}async function x(e){console.log("PlayChallenge",e);const s=await ke();Me("/challenge/selection",{state:{subject:s,fromFriends:!0,opponent:{name:e.name,profile_picture:e.profile_picture,user_id:e.user_id||e.id}}}),console.log(s,"subjects")}B();var i=te();we(e=>{ge(s=>be.title=s,[()=>E()("friends")],_e)});var g=n(i),L=n(g),re=n(L);je(re,{get icon(){return S.FRIENDS_ICON},title:"friends",imageClass:"w-9 h-11 sm:w-13 sm:h-11"}),l(L);var F=w(L,2),ae=n(F);J(ae,{onSearch:D}),l(F);var ie=w(F,2);{var se=e=>{Pe(e,{})},oe=e=>{var s=ee(),M=A(s);{var ne=r=>{var a=U(),v=n(a);P(v,{get listings(){return t(h)},title:"my_friend_list",type:"my_friend_list",get icon(){return S.FRIENDS_LIST_ICON},get isLoading(){return t(o)},onItemClick:x}),l(a),c(r,a)};_(M,r=>{!t(u)&&t(h).length>0&&r(ne)})}var T=w(M,2);{var le=r=>{var a=V(),v=n(a);P(v,{get listings(){return t(b)},title:"recommendations",type:"is_friend_recommendation",get icon(){return S.FRIENDS_RECOMMENDED_ICON},get isLoading(){return t(o)},onItemClick:x}),l(a),c(r,a)};_(T,r=>{!t(u)&&t(b).length>0&&r(le)})}var $=w(T,2);{var me=r=>{var a=W(),v=n(a);G(v,{}),l(a),c(r,a)};_($,r=>{!t(u)&&!t(b).length&&!t(h).length&&r(me)})}var ce=w($,2);{var de=r=>{var a=X(),v=n(a);P(v,{get listings(){return t(p)},title:"searched_friends",type:"is_friend_searched",get isLoading(){return t(o)},get icon(){return S.FRIENDS_LIST_ICON},onItemClick:x}),l(a),c(r,a)},fe=r=>{var a=ye(),v=A(a);{var ue=O=>{var R=Z(),ve=n(R);G(ve,{}),l(R),c(O,R)};_(v,O=>{t(u)&&!t(p).length&&O(ue)},!0)}c(r,a)};_(ce,r=>{t(u)&&t(p).length>0?r(de):r(fe,!1)})}c(e,s)};_(ie,e=>{t(o)?e(se):e(oe,!1)})}l(g),l(i),c(k,i),z(),d()}});export{Te as __tla,H as component};
