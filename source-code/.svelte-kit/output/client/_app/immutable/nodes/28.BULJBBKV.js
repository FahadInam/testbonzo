import{r as vt,__tla as ut}from"../chunks/xsk9tW-i.js";import{g as Ne}from"../chunks/CS3uJLGD.js";import{d as je,__tla as ft}from"../chunks/BtY6RuN-.js";import{m as _t}from"../chunks/Buhwy7Lv.js";import"../chunks/BDr9Qe-U.js";import"../chunks/69_IOA4Y.js";import{c as r,s as o,r as a,t as y,p as Re,a as ke,d as x,m as oe,l as H,e as bt,f as se,b as ie,g as e}from"../chunks/UMRfY9Ko.js";import{s as v}from"../chunks/Bq4tIOc4.js";import{i as h,s as Ce,a as Q}from"../chunks/C8EeH_y7.js";import{t as b,a as u,c as wt}from"../chunks/D7kVQxiR.js";import{s as I}from"../chunks/CBgq6MFg.js";import{s as Oe,t as Ae}from"../chunks/CC0ELNUk.js";import{i as Ie}from"../chunks/DwRdgw7B.js";import{p as S,s as xe}from"../chunks/CSfE_DI5.js";import{o as gt}from"../chunks/D_1OQ_gr.js";import{S as yt}from"../chunks/IMaXrp38.js";import{I as V}from"../chunks/CUEp9C6H.js";import{d as ht,f as ve,g as St}from"../chunks/CFS9S8Yy.js";import{B as Te}from"../chunks/D3Jopq65.js";import"../chunks/Bph8yTrC.js";import{g as $t}from"../chunks/Bhxzz1gg.js";import{t as We}from"../chunks/KgIHh09F.js";import"../chunks/BhqQrrNl.js";import{c as zt}from"../chunks/zx05KRmR.js";import{A as Nt}from"../chunks/C1d6j-5H.js";import{u as jt}from"../chunks/rUUE80t4.js";import{a as Ee,__tla as Rt}from"../chunks/-ZjqoEbN.js";import{A as kt,__tla as Ct}from"../chunks/C9iKjEMy.js";let Pe,Be,Ot=Promise.all([(()=>{try{return ut}catch{}})(),(()=>{try{return ft}catch{}})(),(()=>{try{return Rt}catch{}})(),(()=>{try{return Ct}catch{}})()]).then(async()=>{function De({url:L}){var l;{const w=Ne(je),R=Ne(_t);if(console.log(w,R,"resultStoreValue, metaStoreValue"),((l=w==null?void 0:w.player)==null?void 0:l.avatar)===null)throw vt(302,`/competitions/${R.url}/home`)}return{}}Be=Object.freeze(Object.defineProperty({__proto__:null,load:De},Symbol.toStringTag,{value:"Module"}));var Me=b('<div class="w-20 px-2 font-poppins text-[16px] font-semibold leading-[34.91px] text-white whitespace-nowrap overflow-ellipsis"> </div>'),Ve=b('<div class="flex min-w-[250px] max-h-[38px] items-center rounded-full bg-black/50 text-white text-center m-1"><!> <div class="w-[135px] rounded-full bg-black px-2 text-center font-poppins text-[16px] font-semibold leading-[34.91px] text-white"> </div> <div class="w-20 px-2 font-poppins text-[16px] font-semibold leading-[34.91px] text-white whitespace-nowrap overflow-ellipsis"> </div></div>');function ne(L,l){let w=S(l,"l",8,""),R=S(l,"v",8,"-"),n=S(l,"v2",8),p=typeof n()=="number"||typeof n()=="string";var k=Ve();I(k,"style",`justify-content: ${(p?"space-around":"space-between")??""};`);var F=r(k);{var f=z=>{var s=Me(),U=r(s,!0);a(s),y(()=>v(U,R()||"-")),u(z,s)};h(F,z=>{p&&z(f)})}var g=o(F,2),T=r(g,!0);a(g);var $=o(g,2),W=r($,!0);a($),a(k),y(()=>{v(T,w()||""),v(W,p?n()||0:R()||"-")}),u(L,k)}var qe=b('<div class="bonzoui__winner__ribbon bonzoui__winner__ribbon_MP win2x"><img class="w-[110px] md:w-[200px] h-auto object-contain" alt="Winner"> <span class="pb-title-shadow text-[14px] md:text-[26px] md:top-[2px] top-[-5px]" style="position: absolute; left: 0;"> </span></div>'),Ge=b('<div><!> <div><!></div> <p class="text-white mt-2 w-[140px] md:w-[200px] text-center font-bold truncate text-[16px] md:text-lg"> </p></div>');function ue(L,l){Re(l,!1);const[w,R]=Ce(),n=()=>Q(We,"$t",w);let p=S(l,"playerName",8,""),k=S(l,"avatarType",8,""),F=S(l,"isWinner",8,!1),f=S(l,"bgColor",8,"bg-pink-500"),g=S(l,"position",8,"left"),T=S(l,"ml",8,10),$=S(l,"mr",8,10),W=S(l,"size",8,72);Ie();var z=Ge(),s=r(z);{var U=J=>{var m=qe();I(m,"style",{left:0,right:0});var C=r(m),K=o(C,2),X=r(K,!0);a(K),a(m),y(te=>{I(C,"src",V.RIBBON_WINNER),v(X,te)},[()=>n()("winner")],x),u(J,m)};h(s,J=>{F()&&J(U)})}var E=o(s,2),le=r(E);Nt(le,{get t(){return k()},get ml(){return T()},get mr(){return $()},get s(){return W()},get u(){return W()}}),a(E);var ee=o(E,2),pe=r(ee,!0);a(ee),a(z),y(()=>{Oe(z,`player-card ${(g()==="left"?"pr-[1.7rem]":"pl-[1.7rem]")??""} w-full py-6 flex flex-col items-center relative ${(g()==="left"?"rounded-l-xl":"rounded-r-xl")??""} svelte-qxw9fc`),Oe(E,`w-18 h-18 rounded-full overflow-hidden mb-2 ${f()??""} svelte-qxw9fc`),v(pe,p())}),u(L,z),ke(),R()}var Le=b('<div class="bonzoui__semi__orange rounded-r-xl rounded-b-xl svelte-esagoz"></div>'),Fe=b('<div class="bonzoui__winner__ribbon mt-2" style="position: relative; left: 0px; right: 0px; top: 0px;"><img alt="Draw" class="w-[130px] md:w-[170px]"> <span class="bonzoui__draw__ribbon__text svelte-esagoz" style="position: absolute; left: 0; right: 0;"> </span></div>'),Ue=b(`<div class="bg-[#000000CC] w-full relative rounded-[19px] mb-[44px] p-[12px] text-white flex mt-[49px] max-w-[290px] md:max-w-[320px] flex-col items-center justify-center"><div class="font-semibold pt-1 pl-[2rem] pb-1 pr-4 p-[2px] flex items-center justify-center text-[15px] md:text-[17px] text-[#ffc200] absolute top-0 bg-black left-0 rounded-[19px]"><div class="bonzoui__hint__bulb"></div> </div> <div class="flex flex-col items-center justify-center text-sm md:text-base"> <div class="font-bold text-[16px] md:text-[18px] text-[#ffe500]"><span class="text-[28px] md:text-[32px]">50%</span> <span style="font-family: 'Poppins', sans-serif; font-weight: 400;"> </span></div> </div></div>`),Ye=b('<div class="w-full mt-10 flex items-center justify-center"><img class="w-[120px] md:w-[160px] h-auto object-contain" alt="Winner"> <span class="text-white text-[36px] md:text-[54px] font-bold title-shadow"> </span></div>'),Ze=b('<div class="bg-[#000000CC] w-full relative rounded-[19px] mb-[44px] p-[12px] text-white flex mt-[49px] max-w-[290px] md:max-w-[320px] flex-col items-center justify-center"><div class="font-bold text-[20px] md:text-[24px] text-[#ffc200]"> </div> <div class="text-[16px] md:text-[18px] text-center font-semibold"> </div></div>'),He=b('<div class="bonzoui__winner__ribbon" style="position: relative !important;"><img class="w-[210px] md:w-[240px]"> <div class="bonzoui__single__result__ribbon__sp pb-title-shadow text-sm md:text-base mt-[-20%] md:mt-[-21%] svelte-esagoz"> </div></div> <!>',1),Je=b('<div class="w-full flex items-center justify-center relative mt-4"><div class="w-1/2"><!></div> <div class="absolute z-10"><img alt="VS" class="w-16 h-16 md:w-24 md:h-24"></div> <div class="w-1/2"><!></div></div>'),Ke=b('<div class="md:absolute w-1/2 md:w-auto md:mr-0 mt-4 md:mt-0 md:ml-0 flex flex-col justify-center items-center"><img class="w-[120px] md:w-[160px] h-auto object-contain" alt="Winner"> <span class="text-white w-[120px] text-center text-[18px] md:text-[24px] font-bold title-shadow"> </span></div>'),Xe=b('<div class="w-full rounded-r-xl rounded-b-xl" style="background: linear-gradient(rgb(1, 238, 253) 0%, rgb(1, 137, 255) 100%);"><div class="flex flex-col relative items-center justify-center w-full"><!> <!> <!> <!> <div class="w-full pb-6 px-2 md:px-4 z-10 relative"><!> <div class="flex flex-col items-center space-y-4"><!> <!> <!></div></div></div></div> <div class="flex justify-center w-full mt-4"><!></div>',1),Qe=b('<div class="flex flex-col items-center justify-center w-full max-w-4xl mx-auto my-4 px-2"><!></div> <!>',1);Pe=function(L,l){Re(l,!1);const[w,R]=Ce(),n=()=>Q(je,"$resultStore",w),p=()=>Q(We,"$t",w),k=()=>Q(jt,"$userStore",w),F=()=>Q(zt,"$competitionStore",w),f=oe(),g=oe();let T=oe("");const{playerWon:$,opponentWon:W,isDraw:z}=ht(n());gt(async()=>{Ee.set({visible:!1,page:""}),ie(T,await St(e(f)))});let s=oe(ve(n().player,n().opponent));H(()=>n(),()=>{var m,C;ie(f,((C=(m=n())==null?void 0:m.opponent)==null?void 0:C.opponent_id)!=null)}),H(()=>n(),()=>{console.log(n(),"determineWinner")}),H(()=>n(),()=>{console.log(n(),"1gameDataStore")}),H(()=>(n(),ve),()=>{(n().player||n().opponent)&&ie(s,ve(n().player,n().opponent))}),H(()=>n(),()=>{var m,C;ie(g,parseFloat((C=(m=n())==null?void 0:m.player)==null?void 0:C.accuracy)>=.5)}),H(()=>(e(T),e(g),e(s)),()=>{console.log(e(T),e(g),e(s),"gameData123")}),bt(),Ie();var U=Qe(),E=se(U),le=r(E);const ee=x(()=>e(f)?null:V.SINGLE_PLAYER_IMAGE);yt(le,{get icon(){return e(ee)},get text(){return e(T)},padding:"px-4 pb-5",bgColor:"bg-blue-900",width:"w-full md:min-w-[920px]",children:(m,C)=>{var K=Xe(),X=se(K),te=r(X),fe=r(te);{var et=t=>{var i=Le();u(t,i)};h(fe,t=>{e(f)&&t(et)})}var _e=o(fe,2);{var tt=t=>{var i=Fe(),c=r(i),N=o(c,2),P=r(N,!0);a(N),a(i),y(B=>{I(c,"src",V.RIBBON_DRAW),v(P,B)},[()=>p()("draw")],x),u(t,i)};h(_e,t=>{z&&e(f)&&t(tt)})}var be=o(_e,2);{var rt=t=>{var i=He(),c=se(i),N=r(c),P=o(N,2),B=r(P,!0);a(P),a(c);var D=o(c,2);{var me=j=>{var M=Ue(),q=r(M),d=o(r(q));a(q);var ae=o(q,2),O=r(ae),_=o(O),A=o(r(_));A.nodeValue="  ";var G=o(A),Y=r(G,!0);a(G),a(_);var Z=o(_);a(ae),a(M),y((ce,de,dt,xt)=>{v(d,` ${ce??""}`),v(O,`${de??""}  `),v(Y,dt),v(Z,`  
                ${xt??""}`)},[()=>p()("note"),()=>p()("achieve"),()=>p()("or_more_result_box"),()=>p()("to_unlock_result_box")],x),u(j,M)},re=j=>{var M=wt(),q=se(M);{var d=O=>{var _=Ye(),A=r(_),G=o(A,2),Y=r(G);a(G),a(_),y(()=>{var Z;I(A,"src",V.MORE_COINS),v(Y,`+ ${((Z=e(s))==null?void 0:Z.playerPoints)??""}`)}),u(O,_)},ae=O=>{var _=Ze(),A=r(_),G=r(A,!0);a(A);var Y=o(A,2),Z=r(Y,!0);a(Y),a(_),y((ce,de)=>{v(G,ce),v(Z,de)},[()=>p()("sign_up_now"),()=>p()("save_progress_unlock_rewards")],x),u(O,_)};h(q,O=>{var _;(_=k())!=null&&_.is_guest_mode?O(ae,!1):O(d)},!0)}u(j,M)};h(D,j=>{e(g)?j(re,!1):j(me)})}y(j=>{I(N,"src",e(g)?V.RIBBON_WINNER_CONGRATS:V.RIBBON_WINNER_LOSE),v(B,j)},[()=>e(g)?p()("congratulation"):p()("try_again")],x),u(t,i)};h(be,t=>{e(f)||t(rt)})}var we=o(be,2);{var at=t=>{var i=Je(),c=r(i),N=r(c);const P=x(()=>{var d;return(d=e(s))==null?void 0:d.playerName}),B=x(()=>{var d;return(d=e(s))==null?void 0:d.playerAvatar});ue(N,{get playerName(){return e(P)},get avatarType(){return e(B)},bgColor:"bg-pink-500",position:"left",isWinner:$}),a(c);var D=o(c,2),me=r(D);a(D);var re=o(D,2),j=r(re);const M=x(()=>{var d;return(d=e(s))==null?void 0:d.opponentName}),q=x(()=>{var d;return(d=e(s))==null?void 0:d.opponentAvatar});ue(j,{get playerName(){return e(M)},get avatarType(){return e(q)},bgColor:"bg-pink-300",position:"right",isWinner:W}),a(re),a(i),y(()=>I(me,"src",V.VS)),u(t,i)};h(we,t=>{e(f)&&t(at)})}var ge=o(we,2),ye=r(ge);{var ot=t=>{var i=Ke();I(i,"style",`${($?"left: 15%; top: 40%;":"right: 0; left: 54%; top: 40%;")??""} transform: translateY(-50%);`),Ae(i,"mr-auto",$),Ae(i,"ml-auto",W);var c=r(i),N=o(c,2),P=r(N);a(N),a(i),y(()=>{var B,D;I(c,"src",V.MORE_COINS),v(P,`+ ${($?(B=e(s))==null?void 0:B.playerPoints:(D=e(s))==null?void 0:D.opponentPoints)??""}`)}),u(t,i)};h(ye,t=>{($||W)&&t(ot)})}var he=o(ye,2),Se=r(he);const st=x(()=>{var t;return(t=e(s))==null?void 0:t.score});ne(Se,xe({l:"Score",get v(){return e(st)}},()=>{var t;return e(f)&&((t=e(s))!=null&&t.opponentScore)?{v2:e(s).opponentScore}:{}}));var $e=o(Se,2);const it=x(()=>{var t;return(t=e(s))==null?void 0:t.accuracy});ne($e,xe({l:"Accuracy",get v(){return e(it)}},()=>{var t;return e(f)&&((t=e(s))!=null&&t.opponentAccuracy)?{v2:e(s).opponentAccuracy}:{}}));var nt=o($e,2);const lt=x(()=>{var t;return(t=e(s))==null?void 0:t.timeTaken});ne(nt,xe({l:"Time taken",get v(){return e(lt)}},()=>{var t;return e(f)&&((t=e(s))!=null&&t.opponentTimeTaken)?{v2:e(s).opponentTimeTaken}:{}})),a(he),a(ge),a(te),a(X);var ze=o(X,2),pt=r(ze);{var mt=t=>{const i=x(()=>p()("continue"));Te(t,{get label(){return e(i)},size:"large",type:"3d-secondary",customClass:"w-[200px] md:w-[250px]",onClick:()=>{var c;$t(`/competitions/${(c=F())==null?void 0:c.url}/home`)}})},ct=t=>{const i=x(()=>p()("signup"));Te(t,{get label(){return e(i)},size:"large",type:"3d-secondary",customClass:"w-[200px] md:w-[250px]",onClick:()=>{Ee.set({visible:!0,page:"user-selection"})}})};h(pt,t=>{var i;(i=k())!=null&&i.is_guest_mode?t(ct,!1):t(mt)})}a(ze),u(m,K)},$$slots:{default:!0}}),a(E);var pe=o(E,2);{var J=m=>{kt(m,{})};h(pe,m=>{m(J)})}u(L,U),ke(),R()}});export{Ot as __tla,Pe as component,Be as universal};
