import"../chunks/BDr9Qe-U.js";import"../chunks/69_IOA4Y.js";import{p as pe,l as U,d as ue,a as fe,t as q,e as L,ad as ve,c as m,s as u,g as a,m as o,b as l,r}from"../chunks/BWmI7Kwv.js";import{h as we}from"../chunks/CpvBVgdC.js";import{t as y,a as _}from"../chunks/cR8EBM7j.js";import{a as G,i as P,s as ge}from"../chunks/DJyY-Ao_.js";import{e as be,i as ye}from"../chunks/DPui9idN.js";import{s as _e}from"../chunks/CQjx5DEQ.js";import{i as he}from"../chunks/CvLKQSYC.js";import{s as Ie}from"../chunks/Dtj4eyj4.js";import{a as Oe}from"../chunks/DjNUT-oc.js";import{t as Ce}from"../chunks/Bvbqq-zN.js";import{m as J,__tla as je}from"../chunks/Cf2TjtaF.js";import{g as ke,L as Se,T as Ne}from"../chunks/IK8gWlPt.js";import{S as K}from"../chunks/DBObbdNy.js";import{I as h}from"../chunks/_Vcui5w2.js";import{P as Te}from"../chunks/Br0AyJpI.js";import{g as Le,a as Pe,__tla as $e}from"../chunks/DS_dmsjO.js";import{T as Be}from"../chunks/C3lS0y46.js";import{a as Ve,b as Re}from"../chunks/DWJ43-ZD.js";import{a as Ae}from"../chunks/BoEBYeq-.js";import{s as De}from"../chunks/CROUG2YM.js";let Q,W,Ee=Promise.all([(()=>{try{return je}catch{}})(),(()=>{try{return $e}catch{}})()]).then(async()=>{let $;$=!1,W=Object.freeze(Object.defineProperty({__proto__:null,prerender:$},Symbol.toStringTag,{value:"Module"}));var Y=y("<div><!></div>"),Z=y('<div class="flex justify-evenly items-end mt-8 md:mt-24 mb-4 md:mb-12"></div>'),F=y('<div class="w-full mb-20 md:mb-10"><!></div>'),H=y('<div class="flex justify-center w-full px-4 sm:px-6 md:px-8 lg:px-10"><div class="w-full max-w-screen-lg space-y-6"><div class="w-full relative"><div class="flex flex-col xl:flex-row xl:justify-between items-center w-full gap-4"><div class="flex items-center gap-3 xl:absolute xl:left-1/2 xl:transform xl:-translate-x-1/2"><!></div> <div class="w-full xl:w-auto flex justify-center xl:ml-auto"><div class="flex flex-row gap-4 justify-center md:justify-end"><!> <!></div></div></div></div> <div class="flex justify-center items-center"><!></div> <!> <!></div></div>');Q=function(X,ee){pe(ee,!1);const[B,ae]=ge(),i=()=>G(Ce,"$t",B),f=()=>G(Re,"$gradesStore",B);let n=o([]),x=[],v=o([]),w=o([]),I=o(0),g=o(!0),O,p=o(0),C=o([]),j=o(null),te=[{value:"0",label:i()("all_time_leaderboard")},{value:"1",label:i()("daily")},{value:"2",label:i()("weekly")},{value:"3",label:i()("monthly")}];Ve.set({isLogoVisible:!1,isBackButtonVisible:!0,isVoucherButtonVisible:!1,backLabel:"Competitions",isProfileVisible:!0}),Ae(({from:e})=>{var s;console.log("Previous URL:",(s=e==null?void 0:e.url)==null?void 0:s.pathname),De("/admin/competitions")});let se={1:h.POSITION_1_ICON,2:h.POSITION_2_ICON,3:h.POSITION_3_ICON};async function b(){var t,s,c,d;l(g,!0),clearInterval(O);let e;a(p)===0?e=await Le(a(I),0,a(j)):e=await Pe(a(I),1,a(j)),((s=(t=e==null?void 0:e.data)==null?void 0:t.users)==null?void 0:s.length)>0?(l(n,e.data.users),x=e.data.current_user,x!=null?l(w,[x,...a(n)]):l(w,[...a(n)])):((d=(c=e==null?void 0:e.data)==null?void 0:c.schools)==null?void 0:d.length)>0&&(l(n,e.data.schools),x=null,l(w,[...a(n)])),l(v,await ke(x,a(n))),console.log(a(v),"topCandidates here"),O=setInterval(b,6e4),l(g,!1)}Oe(()=>clearInterval(O)),U(()=>a(p),()=>{a(p)!==void 0&&b()}),U(()=>(f(),J),()=>{var e,t,s;(e=f())!=null&&e.grades&&((t=f())==null?void 0:t.grades.length)>0&&l(C,J((s=f())==null?void 0:s.grades))}),ue(),he();var k=H();we(e=>{q(t=>ve.title=t,[()=>i()("leaderboard")],L)});var V=m(k),S=m(V),R=m(S),N=m(R),le=m(N);Te(le,{customClass:"xl:mr-10",get icon(){return h.LEADERBOARD_ICON},title:"players",imageClass:"w-9 h-11 sm:w-13 sm:h-11"}),r(N);var A=u(N,2),D=m(A),E=m(D);{var re=e=>{K(e,{width:"100%",customClass:"w-20 min-w-[140px] md:min-w-[185px]",get options(){return a(C)},onSelect:async t=>{l(j,t),b()}})};P(E,e=>{a(C).length>0&&e(re)})}var ie=u(E,2);K(ie,{width:"100%",customClass:"w-20 min-w-[140px] md:min-w-[185px]",options:te,onSelect:async e=>{l(I,parseInt(e,10)),b()}}),r(D),r(A),r(R),r(S);var T=u(S,2),me=m(T);const oe=L(()=>[i()("individual"),i()("schools")]);Be(me,{get tabs(){return a(oe)},className:"gap-6 w-full max-w-[540px] text-center",get selectedTab(){return a(p)},set selectedTab(e){l(p,e)},$$legacy:!0}),r(T);var z=u(T,2);{var ne=e=>{var t=Z();be(t,4,()=>[1,0,2],ye,(s,c)=>{var d=Y(),xe=m(d);Se(xe,Ie(()=>{var M;return((M=a(v))==null?void 0:M[c])??{}},{get isLoading(){return a(g)}})),r(d),q(()=>_e(d,`leaderboard-card relative flex flex-col items-center w-1/3 sm:w-auto
    ${c===0?"max-w-[240px] scale-125 xl:max-w-[220px] xl:scale-115 lg:max-w-[200px] lg:scale-110 md:max-w-[160px] md:scale-90 sm:max-w-[110px] sm:scale-65 max-[640px]:max-w-[80px] max-[640px]:scale-70":"max-w-[200px] scale-100 xl:max-w-[180px] xl:scale-95 lg:max-w-[160px] lg:scale-90 md:max-w-[140px] md:scale-80 sm:max-w-[90px] sm:scale-60 max-[640px]:max-w-[70px] max-[640px]:scale-55"}`)),_(s,d)}),r(t),_(e,t)};P(z,e=>{a(v).length>0&&e(ne)})}var ce=u(z,2);{var de=e=>{var t=F(),s=m(t);const c=L(()=>[{label:i()("rank"),key:"rank",type:"text",width:"10%"},{label:i()("players"),key:"name",type:"avatar",width:"70%"},{label:i()("coins_earned"),key:"total_points",type:"icon",width:"20%"}]);Ne(s,{get columns(){return a(c)},get data(){return a(w)},get isLoading(){return a(g)},rankImages:se}),r(t),_(e,t)};P(ce,e=>{a(n).length>0&&e(de)})}r(V),r(k),_(X,k),fe(),ae()}});export{Ee as __tla,Q as component,W as universal};
