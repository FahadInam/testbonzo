import"../chunks/BDr9Qe-U.js";import"../chunks/69_IOA4Y.js";import{p as z,t as C,a as U,s as n,c as t,e as A,r as s,n as ht,l as bt,d as wt,b as m,m as Y,g as u,f as gt}from"../chunks/BWmI7Kwv.js";import{s as d}from"../chunks/CpvBVgdC.js";import{s as G,a as M,i as q}from"../chunks/DJyY-Ao_.js";import{t as T,a as b,e as tt}from"../chunks/cR8EBM7j.js";import{s as J}from"../chunks/Dui37nOO.js";import{e as St}from"../chunks/Cio8JTVh.js";import{i as K}from"../chunks/CvLKQSYC.js";import{o as Ct}from"../chunks/DjNUT-oc.js";import{a as Et,k as Pt,c as Nt}from"../chunks/DWJ43-ZD.js";import{t as Q,u as Bt}from"../chunks/Bvbqq-zN.js";import{P as st,d as It,v as Vt,e as at,p as Ot,i as kt,h as At,j as Mt,__tla as Tt}from"../chunks/Ke5tWbsT.js";import{I as L}from"../chunks/_Vcui5w2.js";import{g as W}from"../chunks/BoEBYeq-.js";import{p as $t}from"../chunks/Cj1nadwp.js";import{b as Dt,__tla as Lt}from"../chunks/Cf2TjtaF.js";import{a as et}from"../chunks/CJxW89IG.js";import{S as jt}from"../chunks/GHjBkfal.js";import{T as Rt,__tla as Ft}from"../chunks/CKiDdCmz.js";let rt,Ht=Promise.all([(()=>{try{return Tt}catch{}})(),(()=>{try{return Lt}catch{}})(),(()=>{try{return Ft}catch{}})()]).then(async()=>{var it=T('<footer class="bg-white py-8 px-4 w-full"><div class="container mx-auto max-w-6xl flex flex-col md:flex-row justify-between items-start md:items-center"><div class="mb-6 md:mb-0"><h2 class="text-[#02BBFE] font-bold text-base mb-2"> </h2> <p class="text-gray-700 text-xs">Need our help? Our support team is available for<br> 24/7 assistance for you.</p></div> <div class="flex flex-col space-y-4"><div class="flex items-center gap-2"><img alt="Phone" class="h-4 w-4"> <span class="text-gray-700 text-xs"> </span></div> <div class="flex items-center gap-2"><img alt="Email" class="h-4 w-4"> <span class="text-gray-700 text-xs "> </span></div></div></div></footer>');function ot(E,P){z(P,!1);const[_,N]=G(),w=()=>M(Q,"$t",_);K();var v=it(),p=t(v),i=t(p),a=t(i),B=t(a,!0);s(a),ht(2),s(i);var c=n(i,2),y=t(c),$=t(y),D=n($,2),I=t(D,!0);s(D),s(y);var V=n(y,2),O=t(V),k=n(O,2),j=t(k,!0);s(k),s(V),s(c),s(p),s(v),C(R=>{d(B,R),J($,"src",L.PHONE_ICON),d(I,st.PHONE),J(O,"src",L.MESSAGE_ICON),d(j,st.EMAIL)},[()=>w()("help_support")],A),b(E,v),U(),N()}var nt=T('<div class="flex flex-col items-center justify-center p-6 h-96"><div class="mb-6"><svg class="animate-spin h-16 w-16 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div> <p class="text-center text-gray-800 mb-2"> </p> <p class="text-center text-gray-500 text-sm"> </p></div>');function ct(E,P){z(P,!1);const[_,N]=G(),w=()=>M(Q,"$t",_);K();var v=nt(),p=n(t(v),2),i=t(p,!0);s(p);var a=n(p,2),B=t(a,!0);s(a),s(v),C((c,y)=>{d(i,c),d(B,y)},[()=>w()("payment_processing"),()=>w()("your_payment_is_being_processed_securely")],A),b(E,v),U(),N()}var lt=T('<div class="w-full text-center mb-6"><p class="text-gray-800 font-semibold"> </p></div>'),mt=T('<div class="w-8 h-8 rounded-full flex items-center justify-center mb-4 mt-6"><img alt="Success Icon" class="w-8 h-8"></div> <h1 class="text-2xl font-bold text-center mb-2"> </h1> <p class="text-gray-600 text-center mb-6"> </p> <!> <!> <button class="mt-8 bg-[#02BBFE] text-white font-semibold py-3 px-6 rounded-lg transition duration-200 w-full max-w-sm"><!></button>',1),pt=T('<div class="flex items-center justify-center"><div class="w-full mx-auto flex flex-col items-center"><!> <!> <!></div></div>');rt=function(E,P){z(P,!1);const[_,N]=G(),w=()=>M(Bt,"$userStore",_),v=()=>M($t,"$paymentStore",_),p=()=>M(Q,"$t",_),i=Y();let a=Y({transactionStatus:null,transactionRef:"",amount:"",durationMonths:0,payment_mode:"",subscription_end_date:""});It(new Date);let B=3,c=Y(!1);const y=[{title:"Choose Payment"},{title:"Confirm"},{title:"Payment Status"}],$=async(e,o=10,x=5e3)=>{let r=0;const g=async()=>{if(r>=o){m(c,!0);return}r++;const h=await at(e);if(h.response_status==="111"){m(a,h.data),m(c,!1);return}else if(h.response_status==="222"){m(a,h.data),m(c,!1);return}else h.response_status==="333"&&(m(c,!0),setTimeout(g,x))};await g()};Ct(async()=>{setTimeout(async()=>{Et.set({isProfileVisible:!0,visible:!0,backLabel:"",isLogoVisible:!0,isCoinVisible:!1,isBackButtonVisible:!1,isVoucherButtonVisible:!1,isVoucherModalVisible:!1,isNotificationVisible:!1,isShowPaymentBanner:!1,isShowRules:!1})},50);const e=new URLSearchParams(window.location.search),o=e.get("TransactionToken"),x=e.get("epgw_payment_payload");if(et){if(o){const r=await Vt(o);m(a,r.data)}else if(x){const r=await at(x);r.response_status==="333"?(m(c,!0),await $(x)):(m(a,r.data),m(c,!1))}}else{const r=Ot(e);r!=null&&r.data&&m(a,r.data)}});const D=async()=>{if(u(i)){const e=await Dt();if(w().active_role=="principal")W("/admin/competitions");else{const o=Pt(v().competition_id,e.data.competitions,"competition_id");Nt.set(o),o!=null&&o.url&&W("/competitions/"+o.url+"/home")}}else W("/payment")};bt(()=>u(a),()=>{m(i,kt(u(a)))}),wt(),K();var I=pt(),V=t(I),O=t(V);jt(O,{steps:y,activeStep:B});var k=n(O,2);{var j=e=>{ct(e,{})},R=e=>{var o=mt(),x=gt(o),r=t(x);s(x);var g=n(x,2),h=t(g,!0);s(g);var F=n(g,2),ut=t(F,!0);s(F);var X=n(F,2);{var dt=l=>{var f=lt(),S=t(f),yt=t(S);s(S),s(f),C(()=>d(yt,`Order ID: ${u(a).transactionRef||"Processing..."}`)),b(l,f)};q(X,l=>{et||l(dt)})}var Z=n(X,2);Rt(Z,{get successful(){return u(i)},get paymentData(){return u(a)}});var H=n(Z,2),vt=t(H);{var xt=l=>{var f=tt();C(S=>d(f,S),[()=>p()("go_to_my_competitions")],A),b(l,f)},_t=l=>{var f=tt();C(S=>d(f,S),[()=>p()("try_again")],A),b(l,f)};q(vt,l=>{u(i)?l(xt):l(_t,!1)})}s(H),C((l,f)=>{J(r,"src",u(i)?L.PAYMENT_SUCCESS_ICON:L.PAYMENT_FAILED_ICON),d(h,l),d(ut,f)},[()=>At(u(i),p()),()=>Mt(u(i),p())],A),St("click",H,D),b(e,o)};q(k,e=>{u(c)?e(j):e(R,!1)})}var ft=n(k,2);ot(ft,{}),s(V),s(I),b(E,I),U(),N()}});export{Ht as __tla,rt as component};
