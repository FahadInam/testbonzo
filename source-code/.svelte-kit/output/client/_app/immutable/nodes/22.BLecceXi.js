import"../chunks/BDr9Qe-U.js";import"../chunks/69_IOA4Y.js";import{p as X,c as e,s as i,r as a,t as R,a as Z,m as h,g as t,l as gt,e as wt,d as U,ad as yt,b as u,f as Q}from"../chunks/UMRfY9Ko.js";import{s as A,h as _t}from"../chunks/Bq4tIOc4.js";import{i as I,s as ht,a as Ct}from"../chunks/C8EeH_y7.js";import{t as L,a as P,c as kt}from"../chunks/D7kVQxiR.js";import{s as Vt}from"../chunks/CBgq6MFg.js";import{i as tt}from"../chunks/DwRdgw7B.js";import{o as St}from"../chunks/D_1OQ_gr.js";import{a as Pt,c as Tt}from"../chunks/zx05KRmR.js";import{t as Dt}from"../chunks/KgIHh09F.js";import{g as Bt}from"../chunks/B_mPYi4c.js";import{r as $t,a as Et}from"../chunks/KMGk3Nas.js";import{g as H}from"../chunks/CS3uJLGD.js";import{A as Nt,__tla as Ot}from"../chunks/xsk9tW-i.js";import{u as et}from"../chunks/rUUE80t4.js";import{B as at}from"../chunks/D3Jopq65.js";import{P as At}from"../chunks/6G2ruq-d.js";import{g as st}from"../chunks/Bhxzz1gg.js";import{e as it}from"../chunks/D7M_RLsn.js";import{p as It}from"../chunks/CSfE_DI5.js";import{a as Lt}from"../chunks/CVxajco_.js";import{i as ot,r as Gt,e as Mt}from"../chunks/CpOe2gu7.js";import{g as zt,r as Jt,B as rt,S as jt,C as Rt,__tla as Ut}from"../chunks/BVzu-Z1G.js";import{b as Wt,__tla as Ft}from"../chunks/DO_Z3Jwx.js";import{I as Yt}from"../chunks/CUEp9C6H.js";import{s as qt}from"../chunks/CN0MmCAJ.js";import"../chunks/Buhwy7Lv.js";let lt,Ht=Promise.all([(()=>{try{return Ot}catch{}})(),(()=>{try{return Ut}catch{}})(),(()=>{try{return Ft}catch{}})()]).then(async()=>{async function nt(){const T=H(et).school_id,c=await $t(Nt.PAYMENT_STATUS,{competition_id:T,grade:"0",inquiry_type:1});return c.error_code==0&&c.data!=null?c.data:null}var mt=L('<div class="w-full mx-auto max-w-[400px] md:max-w-[2000px] md:w-[640px] lg:w-[912px] px-1 sm:px-0"><div class="bg-white rounded-3xl border border-gray-200 shadow-sm overflow-hidden card-button-shadow"><div class="text-left p-4 text-[#313644] font-semibold text-xl sm:text-2xl w-full"><div class="max-w-full overflow-hidden">Welcome to Global Climate Literacy Competitions</div></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-0"><div class="px-4 pt-2 pb-4"><div class="text-sm font-semibold text-gray-600 mb-2">STEP 1</div> <div class="text-sm text-gray-500 mb-2 font-medium">Players go to:</div> <div class="border border-[#DCDCDC] rounded-[15px] px-3 py-2 h-[4.25rem] cursor-pointer hover:bg-gray-50 transition-colors flex items-center" role="button" tabindex="0"><span class="text-sm sm:text-lg font-medium text-gray-800 truncate !font-poppins tracking-wider"></span></div></div> <div class="px-4 pt-2 pb-4"><div class="text-sm font-semibold text-gray-600 mb-2">STEP 2</div> <div class="text-sm font-medium text-gray-500 mb-2">Enter Voucher Code:</div> <div class="border border-[#DCDCDC] rounded-[15px] px-3 py-2 h-[4.25rem] flex items-center justify-between"><span class="font-semibold text-gray-800 truncate mr-2 text-lg sm:text-2xl font-poppins tracking-widest"> </span> <!></div></div></div></div></div>');function ct(T,c){X(c,!1);let G=It(c,"paymentData",8);const f=Et,p=(f!=null&&f.startsWith("http")?f:`https://${f}`).replace(/^https?:\/\//,"");function M(){var n;navigator.clipboard.writeText((n=G())==null?void 0:n.institution_voucher_code),Lt("Voucher copied successfully")}function b(){window.open(`https://${p}`,"_blank")}tt();var g=mt(),l=e(g),C=i(e(l),2),w=e(C),y=i(e(w),4),d=e(y);d.textContent=`${p??""}/competitions`,a(y),a(w);var _=i(w,2),z=i(e(_),4),D=e(z),B=e(D,!0);a(D);var W=i(D,2);at(W,{label:"Copy",size:"small",type:"primary",customClass:"w-[80px] sm:w-[98px] bg-blue-500 text-white",onClick:M}),a(z),a(_),a(C),a(l),a(g),R(()=>{var n;return A(B,(n=G())==null?void 0:n.institution_voucher_code)}),it("click",y,b),it("keydown",y,n=>(n.key==="Enter"||n.key===" ")&&b()),P(T,g),Z()}var pt=L('<div class="flex flex-col items-center mb-8"> <!></div>'),dt=L('<div class="w-full mb-8"><!></div> <!> <!> <!>',1),vt=L('<div class="flex flex-col items-center space-y-10"> <!> <div class="card-button-shadow bg-white rounded-2xl p-8 space-y-4 max-w-[400px] md:max-w-[2000px] md:w-[640px] lg:w-[912px]"><div class="font-bold text-2xl"> </div> <div class="text-lg"> </div> <div class="pt-2"><!></div></div> <div class="card-button-shadow bg-white rounded-2xl p-8 space-y-4 max-w-[400px] md:max-w-[2000px] md:w-[640px] lg:w-[912px]"><div class="relative w-full" style="padding-top: 56.25%;"><iframe class="absolute top-0 left-0 w-full h-full" src="https://player.vimeo.com/video/1018288891?" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe></div> <div class="font-bold text-2xl"> </div></div></div>'),xt=L('<div class="container mx-auto px-4 md:px-6 lg:px-8 mb-8"><!></div>');lt=function(T,c){X(c,!1);const[G,f]=ht(),p=()=>Ct(Dt,"$t",G),M=H(ot);let b=h(M.banner_text?JSON.parse(M.banner_text):null);const g=H(et);let l=h("");qt.set({visible:!1});let C=h([]),w=h([]),y=h(!0),d=h(!1),_=h(null);async function z(){const o=await Wt();u(w,o.data.competitions);let s=t(w).map(v=>Gt(v,{banner_image:"image",competition_id:"id",name:"title"}));u(C,s),u(y,!1),Jt()}St(async()=>{ot.subscribe(o=>{let s=o;s!=null&&s.banner_text?u(b,JSON.parse(s.banner_text)):u(b,null)}),Pt.set({visible:!0,backLabel:"",isLogoVisible:!0,isCoinVisible:!1,isBackButtonVisible:!1,isVoucherButtonVisible:!1,isVoucherModalVisible:!1,isNotificationVisible:!1,isShowPaymentBanner:!1,isShowRules:!1,isProfileVisible:!0}),u(_,await nt()),t(_)&&t(_).is_subscribed==1&&(u(d,!0),await z())});const D=()=>{st("/payment")};console.log("this is final text",t(l),t(d)),gt(()=>(t(d),t(b)),()=>{var o;u(l,zt(g==null?void 0:g.active_role,t(d)?1:0,(o=t(b))==null?void 0:o.banner_text).text)}),wt(),tt();var B=xt();_t(o=>{R(s=>yt.title=s,[()=>Bt(p()("competitions"))],U)});var W=e(B);{var n=o=>{var s=dt(),v=Q(s),J=e(v);At(J,{get icon(){return Yt.COMPETITION_IMG},title:"competitions",imageClass:"w-9 h-11 sm:w-13 sm:h-11"}),a(v);var j=i(v,2);{var $=r=>{var x=pt(),V=e(x),S=i(V);rt(S,{get text(){return t(l)}}),a(x),R(m=>A(V,`${m??""} `),[()=>console.log("this is false running 0",t(d),t(l))],U),P(r,x)};I(j,r=>{t(l)&&r($)})}var k=i(j,2);ct(k,{get paymentData(){return t(_)}});var F=i(k,2);{var E=r=>{jt(r,{})},Y=r=>{var x=kt(),V=Q(x);{var S=m=>{Rt(m,{get competitions(){return t(C)},onItemClick:q=>{const N=Mt(q,t(w),"competition_id");Tt.set(N),st("competitions/"+N.url+"/overview")}})};I(V,m=>{t(C).length>0&&m(S)},!0)}P(r,x)};I(F,r=>{t(y)?r(E):r(Y,!1)})}P(o,s)},ut=o=>{var s=vt(),v=e(s);v.nodeValue=`${console.log("this is false running")??""} `;var J=i(v);{var j=O=>{rt(O,{get text(){return t(l)}})};I(J,O=>{t(l)&&O(j)})}var $=i(J,2),k=e($),F=e(k,!0);a(k);var E=i(k,2),Y=e(E,!0);a(E);var r=i(E,2),x=e(r);const V=U(()=>p()("continue_pay"));at(x,{get label(){return t(V)},width:"full",onClick:D}),a(r),a($);var S=i($,2),m=e(S),q=e(m);a(m);var N=i(m,2),ft=e(N,!0);a(N),a(S),a(s),R((O,bt,K)=>{A(F,O),A(Y,bt),Vt(q,"title",K),A(ft,K)},[()=>p()("pay_access"),()=>p()("pay_message"),()=>p()("bonzo_overview")],U),P(o,s)};I(W,o=>{t(d)?o(n):o(ut,!1)})}a(B),P(T,B),Z(),f()}});export{Ht as __tla,lt as component};
