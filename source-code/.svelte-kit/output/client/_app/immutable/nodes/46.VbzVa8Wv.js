import"../chunks/BDr9Qe-U.js";import"../chunks/69_IOA4Y.js";import{c as l,r as a,s as y,t as P,p as q,g as m,e as A,a as B,ad as bt,b as R,m as Z,f as yt}from"../chunks/BWmI7Kwv.js";import{s as $,h as _t}from"../chunks/CpvBVgdC.js";import{t as _,a as v,c as wt}from"../chunks/cR8EBM7j.js";import{a as G,s as J,i as F}from"../chunks/DJyY-Ao_.js";import{e as I,i as z}from"../chunks/DPui9idN.js";import{i as K}from"../chunks/CvLKQSYC.js";import{o as gt,a as ht}from"../chunks/DjNUT-oc.js";import{t as Q}from"../chunks/Bvbqq-zN.js";import{s as V}from"../chunks/Dui37nOO.js";import{p as E}from"../chunks/Dtj4eyj4.js";import{I as W}from"../chunks/_Vcui5w2.js";import"../chunks/BoEBYeq-.js";import"../chunks/CbiYp799.js";import{r as kt}from"../chunks/CR2liGHp.js";import{f as jt,c as X,s as Y}from"../chunks/DWJ43-ZD.js";import{g as tt}from"../chunks/C_S5TygX.js";import{A as At,__tla as Mt}from"../chunks/Djyhf4cp.js";import{n as H}from"../chunks/CH285WnD.js";let at,St=Promise.all([(()=>{try{return Mt}catch{}})()]).then(async()=>{var et=_('<div class="flex font-poppins w-full text-center font-medium justify-between md:max-w-[330px] max-w-[300px] bg-black/50 bg-opacity-50 rounded-full text-sm md:text-base mb-3"><span class="md:w-[230px] w-[210px] rounded-full md:px-4 px-3 py-2 mr-2 bg-black"> </span> <span class="pr-6 md:pl-4 pl-3 py-2 md:min-w-20 min-w-16 rounded-full"> </span></div>');function lt(t,r){let n=E(r,"label",8,""),p=E(r,"value",8);var i=et(),e=l(i),d=l(e,!0);a(e);var o=y(e,2),c=l(o,!0);a(o),a(i),P(()=>{$(d,n()),$(c,p())}),v(t,i)}var st=_('<div class="rounded-2xl mb-8 px-4 max-w-[600px] md:max-w-[960px] mx-auto"><div class="bg-[var(--theme-dark-blue)] text-white font-semibold p-3 rounded-t-2xl text-center flex items-center justify-center"><img loading="lazy" alt="Competition" class="w-10 h-10 mr-2"> <span class="font-fredoka font-semibold text-xl"> </span></div> <div class=" bg-white p-4 pt-0 rounded-b-2xl w-full"><div style="background: var(--background-gradient-cyan)" class="text-white text-center px-4 md:py-10 py-8 flex rounded-b-2xl flex-col md:flex-row justify-evenly"><div class="mb-4 md:mb-0 flex items-center flex-col"><p class="w-[230px] rounded-full font-semibold px-4 md:text-base text-sm py-2 bg-black"> </p> <img alt="Coins" loading="lazy" class="md:max-w-[380px] h-full max-w-[320px]"> <p class="text-6xl title-shadow font-bold !font-fredoka -mt-2 ml-2 text-white"> </p></div> <div class="text-left mx-auto md:m-0 mt-3"></div></div></div></div>');function L(t,r){q(r,!1);const[n,p]=J(),i=()=>G(Q,"$t",n);let e=E(r,"Data",24,()=>({total_coins:0,total_ties:0,total_wins:0,multiplayer_matches:0,single_matches:0,total_lost:0,accuracy:0})),d=E(r,"title",8,"");K();var o=st(),c=l(o),x=l(c),g=y(x,2),T=l(g,!0);a(g),a(c);var S=y(c,2),s=l(S),u=l(s),h=l(u),N=l(h,!0);a(h);var D=y(h,2),C=y(D,2),f=l(C,!0);a(C),a(u);var b=y(u,2);I(b,5,()=>[{label:"accuracy",value:e().accuracy},{label:"games_won",value:e().total_wins},{label:"games_lost",value:e().total_lost},{label:"games_tied",value:e().total_ties},{label:"single_player_matches",value:e().single_matches},{label:"multiplayer_matches",value:e().multiplayer_matches}],z,(w,k)=>{const j=A(()=>i()(m(k).label));lt(w,{get label(){return m(j)},get value(){return m(k).value}})}),a(b),a(s),a(S),a(o),P(w=>{V(x,"src",W.STATS),$(T,d()),$(N,w),V(D,"src",W.MORE_COINS),$(f,e().total_coins)},[()=>i()("total_coins")],A),v(t,o),B(),p()}var rt=_('<div class="w-[230px] h-10 bg-gray-400/50 rounded-full mb-3.5"></div>'),it=_('<div class="w-full text-center space-y-4 mt-5"><div class="rounded-2xl mb-8 px-4 max-w-[600px] md:max-w-[960px] mx-auto"><div class="p-6 rounded-2xl bg-gray-200 text-center text-white"><div class="animate-pulse"><div class="h-2 mt-2 flex items-center justify-center"><div class="h-10 w-10 bg-gray-400/50 rounded-full mr-2"></div> <div class="h-8 md:w-64 w-52 bg-gray-400/50 rounded-xl"></div></div> <div class="flex flex-col items-center md:flex-row md:items-start md:mt-16 mt-12 justify-evenly"><div class="flex md:mb-0 mb-8 flex-col items-center"><div class="w-[200px] h-8 bg-gray-400/50 rounded-full"></div> <div class="w-[200px] my-5 h-28 bg-gray-400/50 rounded-xl"></div> <div class="w-[140px] h-16 bg-gray-400/50 rounded-xl"></div></div> <div></div></div></div></div></div></div>'),ot=_('<div class="w-full text-center space-y-4 mt-5"></div>');function mt(t){var r=ot();I(r,4,()=>Array(3),z,(n,p)=>{var i=it(),e=l(i),d=l(e),o=l(d),c=y(l(o),2),x=y(l(c),2);I(x,4,()=>Array(5),z,(g,T,S,s)=>{var u=rt();v(g,u)}),a(x),a(c),a(o),a(d),a(e),a(i),v(n,i)}),a(r),v(t,r)}async function nt(t){await jt();const r=tt(X).current_grade,n=tt(X).competition_id;return await kt(At.USER_STATS,{competition_id:n,grade:r,username:t},{})}function M(t){return H.ZeroPad(H.AtLeastZero(t))}function dt(t){return t=Math.max(0,t),t%1===0?`${Math.min(100,Math.round(t))}%`:`${Math.min(100,Math.round(t*10)/10).toFixed(1)}%`}function U(t){const r=t.points>0?`+ ${H.AbbreviatedNumber(t.points,1)}`:"0",n=M(t.total_multiplayer_wins),p=M(t.total_multiplayer_ties),i=M(t.total_multiplayer_matches),e=M(t.total_single_player_matches),d=M(Math.max(0,i-n-p)),o=dt(t.overall_accuracy);return{total_coins:r,total_wins:n,total_ties:p,multiplayer_matches:i,single_matches:e,total_lost:d,accuracy:o}}var ct=_('<div class="w-full overflow-x-hidden mt-5"><!></div>'),ut=_('<div class="w-full overflow-x-hidden mt-5"><!></div>'),vt=_('<div class="w-full text-center space-y-4"><!> <!></div>'),pt=_('<div class="flex w-full justify-center"><!></div>');at=function(t,r){q(r,!1);const[n,p]=J(),i=()=>G(Q,"$t",n);let e=Z([]),d=Z([]),o="",c=Z(!0);gt(async()=>{Y(!1,"back","{competitionHome}/home");const s=await nt(o);R(e,(s==null?void 0:s.data.global)??[]),R(d,(s==null?void 0:s.data.subjects)??[]),R(c,!1)}),ht(()=>{Y(!0,"competitions","/competitions")}),K();var x=pt();_t(s=>{P(u=>bt.title=u,[()=>i()("stats")],A)});var g=l(x);{var T=s=>{mt(s)},S=s=>{var u=vt(),h=l(u);{var N=f=>{var b=ct(),w=l(b);const k=A(()=>U(m(e)[0])),j=A(()=>i()("competition_summary"));L(w,{get Data(){return m(k)},get title(){return m(j)}}),a(b),v(f,b)};F(h,f=>{m(e).length>0&&f(N)})}var D=y(h,2);{var C=f=>{var b=wt(),w=yt(b);I(w,1,()=>m(d),z,(k,j)=>{var O=ut(),xt=l(O);const ft=A(()=>U(m(j)));L(xt,{get Data(){return m(ft)},get title(){return m(j).subject}}),a(O),v(k,O)}),v(f,b)};F(D,f=>{m(d).length>0&&f(C)})}a(u),v(s,u)};F(g,s=>{m(c)?s(T):s(S,!1)})}a(x),v(t,x),B(),p()}});export{St as __tla,at as component};
