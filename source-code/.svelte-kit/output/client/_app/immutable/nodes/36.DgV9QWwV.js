import"../chunks/BDr9Qe-U.js";import"../chunks/69_IOA4Y.js";import{f as F,r as l,s as w,c as t,p as ca,a as xa,t as G,d as H,ad as pa,b as x,m as b,g as e}from"../chunks/UMRfY9Ko.js";import{h as ua}from"../chunks/Bq4tIOc4.js";import{t as m,a as i}from"../chunks/D7kVQxiR.js";import{a as ga,i as D,s as fa}from"../chunks/C8EeH_y7.js";import{e as E,i as R}from"../chunks/DiuJufaP.js";import{s as wa}from"../chunks/CC0ELNUk.js";import{i as ba}from"../chunks/DwRdgw7B.js";import{p as J,s as ya}from"../chunks/CSfE_DI5.js";import{o as ha,a as _a}from"../chunks/D_1OQ_gr.js";import{t as Ia}from"../chunks/KgIHh09F.js";import{l as Oa,__tla as ka}from"../chunks/DO_Z3Jwx.js";import{g as Ca,L as Na,T as La}from"../chunks/yMXsQo4Z.js";import{S as Pa}from"../chunks/B-7o-gtO.js";import{I as k}from"../chunks/CUEp9C6H.js";import{P as Sa}from"../chunks/6G2ruq-d.js";let K,ja=Promise.all([(()=>{try{return ka}catch{}})()]).then(async()=>{var M=m('<div class="flex flex-col items-center"><div class="sm:w-24 sm:h-24 w-20 h-20 bg-gray-300 animate-pulse rounded-full mb-2"></div> <div class="sm:w-32 w-28 h-6 bg-gray-300 animate-pulse rounded-lg mb-1"></div> <div class="w-16 h-4 bg-gray-300 animate-pulse rounded-lg"></div></div>'),Q=m('<div class="flex gap-4 p-3 border-b last:border-none border-gray-200"><div class="w-10 h-10 bg-gray-300 animate-pulse rounded-xl"></div> <div class="flex flex-1 sm:ml-6 items-center gap-2"><div class="w-9 h-9 bg-gray-300 animate-pulse rounded-full"></div> <div class="max-w-60 w-full h-6 bg-gray-300 animate-pulse rounded-lg"></div></div> <div class="flex items-center gap-2"><div class="w-8 h-8 bg-gray-300 animate-pulse rounded-full"></div> <div class="w-20 h-6 bg-gray-300 animate-pulse rounded-lg"></div></div></div>'),U=m('<div class="grid grid-cols-3 gap-4 mb-6 sm:mt-10 mx-auto max-w-4xl"></div> <div class="mx-auto max-w-4xl bg-white rounded-3xl p-4 sm:mt-8 shadow-md"><div class="flex gap-4 p-3 pt-1 border-b border-gray-300"><div class="w-12 h-6 bg-gray-300 animate-pulse rounded-lg"></div> <div class="flex-1 sm:ml-4"><div class="max-w-40 h-6 bg-gray-300 animate-pulse rounded-lg"></div></div> <div class="max-w-[120px] w-full h-6 bg-gray-300 animate-pulse rounded-lg"></div></div> <!></div>',1);function Y(C,y){let N=J(y,"itemsCount",8,3),L=J(y,"leaderboardItems",8,6);var s=U(),r=F(s);E(r,5,()=>Array(N()),R,(o,h)=>{var u=M();i(o,u)}),l(r);var d=w(r,2),p=w(t(d),2);E(p,1,()=>Array(L()),R,(o,h)=>{var u=Q();i(o,u)}),l(d),i(C,s)}var V=m("<div><!></div>"),W=m('<div class="flex justify-evenly items-end mt-8 md:mt-24 mb-4 md:mb-12"></div>'),X=m('<div class="w-full mb-20 md:mb-10"><!></div>'),Z=m("<!> <!>",1),aa=m('<div class="flex justify-center w-full px-4 sm:px-6 md:px-8 lg:px-10"><div class="w-full max-w-screen-lg space-y-6"><div class="w-full relative"><div class="flex flex-col sm:flex-row sm:justify-between items-center w-full gap-4"><div class="flex items-center gap-3 sm:absolute sm:left-1/2 sm:transform sm:-translate-x-1/2"><!></div> <div class="w-full sm:w-auto flex justify-center sm:ml-auto"><!></div></div></div> <!></div></div>');K=function(C,y){ca(y,!1);const[N,L]=fa(),s=()=>ga(Ia,"$t",N);let r=b([]),d=[],p=b([]),o=b([]),h=b(0),u=0,g=b(!0),_,ea=[{value:"0",label:s()("all_time_leaderboard")},{value:"1",label:s()("daily")},{value:"2",label:s()("weekly")},{value:"3",label:s()("monthly")}],sa={1:k.POSITION_1_ICON,2:k.POSITION_2_ICON,3:k.POSITION_3_ICON};async function P(){var n,f;x(g,!0),clearInterval(_);const a=await Oa(e(h),u);((f=(n=a==null?void 0:a.data)==null?void 0:n.users)==null?void 0:f.length)>0&&(x(r,a.data.users),d=a.data.current_user,d!=null?x(o,[d,...e(r)]):x(o,[...e(r)]),x(p,await Ca(d,e(r)))),_=setInterval(P,6e4),x(g,!1)}ha(()=>(P(),()=>clearInterval(_))),_a(()=>clearInterval(_)),ba();var S=aa();ua(a=>{G(n=>pa.title=n,[()=>s()("leaderboard")],H)});var $=t(S),j=t($),z=t(j),A=t(z),la=t(A);Sa(la,{get icon(){return k.LEADERBOARD_ICON},title:"leaderboard",imageClass:"w-9 h-11 sm:w-13 sm:h-11"}),l(A);var B=w(A,2),ra=t(B);Pa(ra,{customClass:"w-36",options:ea,onSelect:async a=>{x(h,parseInt(a,10)),P()}}),l(B),l(z),l(j);var ta=w(j,2);{var ma=a=>{Y(a,{})},ia=a=>{var n=Z(),f=F(n);{var da=v=>{var c=W();E(c,4,()=>[1,0,2],R,(T,I)=>{var O=V(),va=t(O);Na(va,ya(()=>{var q;return((q=e(p))==null?void 0:q[I])??{}},{get isLoading(){return e(g)}})),l(O),G(()=>wa(O,`leaderboard-card relative flex flex-col items-center w-1/3 sm:w-auto
    ${I===0?"max-w-[240px] scale-125 xl:max-w-[220px] xl:scale-115 lg:max-w-[200px] lg:scale-110 md:max-w-[160px] md:scale-90 sm:max-w-[110px] sm:scale-65 max-[640px]:max-w-[80px] max-[640px]:scale-70":"max-w-[200px] scale-100 xl:max-w-[180px] xl:scale-95 lg:max-w-[160px] lg:scale-90 md:max-w-[140px] md:scale-80 sm:max-w-[90px] sm:scale-60 max-[640px]:max-w-[70px] max-[640px]:scale-55"}`)),i(T,O)}),l(c),i(v,c)};D(f,v=>{e(p).length>0&&v(da)})}var oa=w(f,2);{var na=v=>{var c=X(),T=t(c);const I=H(()=>[{label:s()("rank"),key:"rank",type:"text",width:"10%"},{label:s()("players"),key:"name",type:"avatar",width:"70%"},{label:s()("coins_earned"),key:"total_points",type:"icon",width:"20%"}]);La(T,{get columns(){return e(I)},get data(){return e(o)},get isLoading(){return e(g)},rankImages:sa}),l(c),i(v,c)};D(oa,v=>{e(r).length>0&&v(na)})}i(a,n)};D(ta,a=>{e(g)?a(ma):a(ia,!1)})}l($),l(S),i(C,S),xa(),L()}});export{ja as __tla,K as component};
