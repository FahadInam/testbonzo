import"../chunks/BDr9Qe-U.js";import"../chunks/69_IOA4Y.js";import{p as pe,l as U,e as xe,a as fe,t as q,d as L,ad as ue,c as i,s as f,g as a,m as o,b as l,r as m}from"../chunks/UMRfY9Ko.js";import{h as ve}from"../chunks/Bq4tIOc4.js";import{t as b,a as _}from"../chunks/D7kVQxiR.js";import{a as z,i as P,s as ge}from"../chunks/C8EeH_y7.js";import{e as we,i as ye}from"../chunks/DiuJufaP.js";import{s as be}from"../chunks/CC0ELNUk.js";import{i as _e}from"../chunks/DwRdgw7B.js";import{s as he}from"../chunks/CSfE_DI5.js";import{a as Ie}from"../chunks/D_1OQ_gr.js";import{t as Oe}from"../chunks/KgIHh09F.js";import{m as G,__tla as je}from"../chunks/DO_Z3Jwx.js";import{g as ke,L as Ce,T as Se}from"../chunks/yMXsQo4Z.js";import{S as H}from"../chunks/B-7o-gtO.js";import{I as h}from"../chunks/CUEp9C6H.js";import{P as Ne}from"../chunks/6G2ruq-d.js";import{g as Te,a as Le,__tla as Pe}from"../chunks/CTeP1B65.js";import{T as $e}from"../chunks/CekKuENf.js";import{g as Ve}from"../chunks/CpOe2gu7.js";import{a as Be}from"../chunks/Bhxzz1gg.js";import{s as Re}from"../chunks/BT9fSTVj.js";import{a as Ae}from"../chunks/zx05KRmR.js";let J,K,De=Promise.all([(()=>{try{return je}catch{}})(),(()=>{try{return Pe}catch{}})()]).then(async()=>{let $;$=!1,K=Object.freeze(Object.defineProperty({__proto__:null,prerender:$},Symbol.toStringTag,{value:"Module"}));var Q=b("<div><!></div>"),X=b('<div class="flex justify-evenly items-end mt-8 md:mt-24 mb-4 md:mb-12"></div>'),Y=b('<div class="w-full mb-20 md:mb-10"><!></div>'),Z=b('<div class="flex justify-center w-full px-4 sm:px-6 md:px-8 lg:px-10"><div class="w-full max-w-screen-lg space-y-6"><div class="w-full relative"><div class="flex flex-col md:flex-row md:justify-between md:items-center w-full gap-4"><div class="flex items-center gap-3 justify-center md:justify-start"><!></div> <div class="flex flex-row gap-4 justify-center md:justify-end"><!> <!></div></div></div> <div class="flex justify-center items-center"><!></div> <!> <!></div></div>');J=function(F,W){pe(W,!1);const[V,ee]=ge(),r=()=>z(Oe,"$t",V),u=()=>z(Ve,"$gradesStore",V);let n=o([]),p=[],v=o([]),g=o([]),I=o(0),w=o(!0),O,x=o(0),j=o([]),k=o(null),ae=[{value:"0",label:r()("all_time_leaderboard")},{value:"1",label:r()("daily")},{value:"2",label:r()("weekly")},{value:"3",label:r()("monthly")}];Ae.set({isLogoVisible:!1,isBackButtonVisible:!0,isVoucherButtonVisible:!1,backLabel:"Competitions",isProfileVisible:!0}),Be(({from:e})=>{var s;console.log("Previous URL:",(s=e==null?void 0:e.url)==null?void 0:s.pathname),Re("/admin/competitions")});let te={1:h.POSITION_1_ICON,2:h.POSITION_2_ICON,3:h.POSITION_3_ICON};async function y(){var t,s,c,d;l(w,!0),clearInterval(O);let e;a(x)===0?e=await Te(a(I),0,a(k)):e=await Le(a(I),1,a(k)),((s=(t=e==null?void 0:e.data)==null?void 0:t.users)==null?void 0:s.length)>0?(l(n,e.data.users),p=e.data.current_user,p!=null?l(g,[p,...a(n)]):l(g,[...a(n)])):((d=(c=e==null?void 0:e.data)==null?void 0:c.schools)==null?void 0:d.length)>0&&(l(n,e.data.schools),p=null,l(g,[...a(n)])),l(v,await ke(p,a(n))),console.log(a(v),"topCandidates here"),O=setInterval(y,6e4),l(w,!1)}Ie(()=>clearInterval(O)),U(()=>a(x),()=>{a(x)!==void 0&&y()}),U(()=>(u(),G),()=>{var e,t,s;(e=u())!=null&&e.grades&&((t=u())==null?void 0:t.grades.length)>0&&l(j,G((s=u())==null?void 0:s.grades))}),xe(),_e();var C=Z();ve(e=>{q(t=>ue.title=t,[()=>r()("leaderboard")],L)});var B=i(C),S=i(B),R=i(S),N=i(R),se=i(N);Ne(se,{get icon(){return h.LEADERBOARD_ICON},title:"players",imageClass:"w-9 h-11 sm:w-13 sm:h-11"}),m(N);var A=f(N,2),D=i(A);{var le=e=>{H(e,{customClass:"w-36",get options(){return a(j)},onSelect:async t=>{l(k,t),y()}})};P(D,e=>{a(j).length>0&&e(le)})}var re=f(D,2);H(re,{customClass:"w-36",options:ae,onSelect:async e=>{l(I,parseInt(e,10)),y()}}),m(A),m(R),m(S);var T=f(S,2),me=i(T);const ie=L(()=>[r()("individual"),r()("schools")]);$e(me,{get tabs(){return a(ie)},className:"gap-6 w-full max-w-[540px] text-center",get selectedTab(){return a(x)},set selectedTab(e){l(x,e)},$$legacy:!0}),m(T);var E=f(T,2);{var oe=e=>{var t=X();we(t,4,()=>[1,0,2],ye,(s,c)=>{var d=Q(),de=i(d);Ce(de,he(()=>{var M;return((M=a(v))==null?void 0:M[c])??{}},{get isLoading(){return a(w)}})),m(d),q(()=>be(d,`leaderboard-card relative flex flex-col items-center w-1/3 sm:w-auto
    ${c===0?"max-w-[240px] scale-125 xl:max-w-[220px] xl:scale-115 lg:max-w-[200px] lg:scale-110 md:max-w-[160px] md:scale-90 sm:max-w-[110px] sm:scale-65 max-[640px]:max-w-[80px] max-[640px]:scale-70":"max-w-[200px] scale-100 xl:max-w-[180px] xl:scale-95 lg:max-w-[160px] lg:scale-90 md:max-w-[140px] md:scale-80 sm:max-w-[90px] sm:scale-60 max-[640px]:max-w-[70px] max-[640px]:scale-55"}`)),_(s,d)}),m(t),_(e,t)};P(E,e=>{a(v).length>0&&e(oe)})}var ne=f(E,2);{var ce=e=>{var t=Y(),s=i(t);const c=L(()=>[{label:r()("rank"),key:"rank",type:"text",width:"10%"},{label:r()("players"),key:"name",type:"avatar",width:"70%"},{label:r()("coins_earned"),key:"total_points",type:"icon",width:"20%"}]);Se(s,{get columns(){return a(c)},get data(){return a(g)},get isLoading(){return a(w)},rankImages:te}),m(t),_(e,t)};P(ne,e=>{a(n).length>0&&e(ce)})}m(B),m(C),_(F,C),fe(),ee()}});export{De as __tla,J as component,K as universal};
