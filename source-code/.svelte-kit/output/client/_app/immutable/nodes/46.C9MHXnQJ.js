import"../chunks/BDr9Qe-U.js";import"../chunks/69_IOA4Y.js";import{c as l,r as a,s as y,t as O,p as q,g as m,d as A,a as B,ad as bt,b as P,m as R,f as yt}from"../chunks/UMRfY9Ko.js";import{s as $,h as _t}from"../chunks/Bq4tIOc4.js";import{t as _,a as p,c as wt}from"../chunks/D7kVQxiR.js";import{a as G,s as J,i as Z}from"../chunks/C8EeH_y7.js";import{e as I,i as z}from"../chunks/DiuJufaP.js";import{i as K}from"../chunks/DwRdgw7B.js";import{o as gt,a as ht}from"../chunks/D_1OQ_gr.js";import{t as Q}from"../chunks/KgIHh09F.js";import{s as V}from"../chunks/CBgq6MFg.js";import{p as E}from"../chunks/CSfE_DI5.js";import{I as W}from"../chunks/CUEp9C6H.js";import"../chunks/Bhxzz1gg.js";import"../chunks/BuuPHrM8.js";import{r as kt}from"../chunks/KMGk3Nas.js";import{b as jt,s as X}from"../chunks/CpOe2gu7.js";import{g as Y}from"../chunks/CS3uJLGD.js";import{A as At,__tla as Mt}from"../chunks/xsk9tW-i.js";import{c as tt}from"../chunks/zx05KRmR.js";import{n as F}from"../chunks/CH285WnD.js";let at,St=Promise.all([(()=>{try{return Mt}catch{}})()]).then(async()=>{var et=_('<div class="flex font-poppins w-full text-center font-medium justify-between md:max-w-[330px] max-w-[300px] bg-black/50 bg-opacity-50 rounded-full text-sm md:text-base mb-3"><span class="md:w-[230px] w-[210px] rounded-full md:px-4 px-3 py-2 mr-2 bg-black"> </span> <span class="pr-6 md:pl-4 pl-3 py-2 md:min-w-20 min-w-16 rounded-full"> </span></div>');function lt(t,i){let n=E(i,"label",8,""),v=E(i,"value",8);var r=et(),e=l(r),d=l(e,!0);a(e);var o=y(e,2),c=l(o,!0);a(o),a(r),O(()=>{$(d,n()),$(c,v())}),p(t,r)}var st=_('<div class="rounded-2xl mb-8 px-4 max-w-[600px] md:max-w-[960px] mx-auto"><div class="bg-[var(--theme-dark-blue)] text-white font-semibold p-3 rounded-t-2xl text-center flex items-center justify-center"><img loading="lazy" alt="Competition" class="w-10 h-10 mr-2"> <span class="font-fredoka font-semibold text-xl"> </span></div> <div class=" bg-white p-4 pt-0 rounded-b-2xl w-full"><div style="background: var(--background-gradient-cyan)" class="text-white text-center px-4 md:py-10 py-8 flex rounded-b-2xl flex-col md:flex-row justify-evenly"><div class="mb-4 md:mb-0 flex items-center flex-col"><p class="w-[230px] rounded-full font-semibold px-4 md:text-base text-sm py-2 bg-black"> </p> <img alt="Coins" loading="lazy" class="md:max-w-[380px] h-full max-w-[320px]"> <p class="text-6xl title-shadow font-bold !font-fredoka -mt-2 ml-2 text-white"> </p></div> <div class="text-left mx-auto md:m-0 mt-3"></div></div></div></div>');function L(t,i){q(i,!1);const[n,v]=J(),r=()=>G(Q,"$t",n);let e=E(i,"Data",24,()=>({total_coins:0,total_ties:0,total_wins:0,multiplayer_matches:0,single_matches:0,total_lost:0,accuracy:0})),d=E(i,"title",8,"");K();var o=st(),c=l(o),x=l(c),g=y(x,2),T=l(g,!0);a(g),a(c);var S=y(c,2),s=l(S),u=l(s),h=l(u),H=l(h,!0);a(h);var C=y(h,2),D=y(C,2),f=l(D,!0);a(D),a(u);var b=y(u,2);I(b,5,()=>[{label:"accuracy",value:e().accuracy},{label:"games_won",value:e().total_wins},{label:"games_lost",value:e().total_lost},{label:"games_tied",value:e().total_ties},{label:"single_player_matches",value:e().single_matches},{label:"multiplayer_matches",value:e().multiplayer_matches}],z,(w,k)=>{const j=A(()=>r()(m(k).label));lt(w,{get label(){return m(j)},get value(){return m(k).value}})}),a(b),a(s),a(S),a(o),O(w=>{V(x,"src",W.STATS),$(T,d()),$(H,w),V(C,"src",W.MORE_COINS),$(f,e().total_coins)},[()=>r()("total_coins")],A),p(t,o),B(),v()}var it=_('<div class="w-[230px] h-10 bg-gray-400/50 rounded-full mb-3.5"></div>'),rt=_('<div class="w-full text-center space-y-4 mt-5"><div class="rounded-2xl mb-8 px-4 max-w-[600px] md:max-w-[960px] mx-auto"><div class="p-6 rounded-2xl bg-gray-200 text-center text-white"><div class="animate-pulse"><div class="h-2 mt-2 flex items-center justify-center"><div class="h-10 w-10 bg-gray-400/50 rounded-full mr-2"></div> <div class="h-8 md:w-64 w-52 bg-gray-400/50 rounded-xl"></div></div> <div class="flex flex-col items-center md:flex-row md:items-start md:mt-16 mt-12 justify-evenly"><div class="flex md:mb-0 mb-8 flex-col items-center"><div class="w-[200px] h-8 bg-gray-400/50 rounded-full"></div> <div class="w-[200px] my-5 h-28 bg-gray-400/50 rounded-xl"></div> <div class="w-[140px] h-16 bg-gray-400/50 rounded-xl"></div></div> <div></div></div></div></div></div></div>'),ot=_('<div class="w-full text-center space-y-4 mt-5"></div>');function mt(t){var i=ot();I(i,4,()=>Array(3),z,(n,v)=>{var r=rt(),e=l(r),d=l(e),o=l(d),c=y(l(o),2),x=y(l(c),2);I(x,4,()=>Array(5),z,(g,T,S,s)=>{var u=it();p(g,u)}),a(x),a(c),a(o),a(d),a(e),a(r),p(n,r)}),a(i),p(t,i)}async function nt(t){await jt();const i=Y(tt).current_grade,n=Y(tt).competition_id;return await kt(At.USER_STATS,{competition_id:n,grade:i,username:t},{})}function M(t){return F.ZeroPad(F.AtLeastZero(t))}function dt(t){return t=Math.max(0,t),t%1===0?`${Math.min(100,Math.round(t))}%`:`${Math.min(100,Math.round(t*10)/10).toFixed(1)}%`}function U(t){const i=t.points>0?`+ ${F.AbbreviatedNumber(t.points,1)}`:"0",n=M(t.total_multiplayer_wins),v=M(t.total_multiplayer_ties),r=M(t.total_multiplayer_matches),e=M(t.total_single_player_matches),d=M(Math.max(0,r-n-v)),o=dt(t.overall_accuracy);return{total_coins:i,total_wins:n,total_ties:v,multiplayer_matches:r,single_matches:e,total_lost:d,accuracy:o}}var ct=_('<div class="w-full overflow-x-hidden mt-5"><!></div>'),ut=_('<div class="w-full overflow-x-hidden mt-5"><!></div>'),pt=_('<div class="w-full text-center space-y-4"><!> <!></div>'),vt=_('<div class="flex w-full justify-center"><!></div>');at=function(t,i){q(i,!1);const[n,v]=J(),r=()=>G(Q,"$t",n);let e=R([]),d=R([]),o="",c=R(!0);gt(async()=>{X(!1,"back","{competitionHome}/home");const s=await nt(o);P(e,(s==null?void 0:s.data.global)??[]),P(d,(s==null?void 0:s.data.subjects)??[]),P(c,!1)}),ht(()=>{X(!0,"competitions","/competitions")}),K();var x=vt();_t(s=>{O(u=>bt.title=u,[()=>r()("stats")],A)});var g=l(x);{var T=s=>{mt(s)},S=s=>{var u=pt(),h=l(u);{var H=f=>{var b=ct(),w=l(b);const k=A(()=>U(m(e)[0])),j=A(()=>r()("competition_summary"));L(w,{get Data(){return m(k)},get title(){return m(j)}}),a(b),p(f,b)};Z(h,f=>{m(e).length>0&&f(H)})}var C=y(h,2);{var D=f=>{var b=wt(),w=yt(b);I(w,1,()=>m(d),z,(k,j)=>{var N=ut(),xt=l(N);const ft=A(()=>U(m(j)));L(xt,{get Data(){return m(ft)},get title(){return m(j).subject}}),a(N),p(k,N)}),p(f,b)};Z(C,f=>{m(d).length>0&&f(D)})}a(u),p(s,u)};Z(g,s=>{m(c)?s(T):s(S,!1)})}a(x),p(t,x),B(),v()}});export{St as __tla,at as component};
