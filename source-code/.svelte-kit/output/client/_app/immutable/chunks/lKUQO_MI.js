import"./BDr9Qe-U.js";import"./69_IOA4Y.js";import{p as K,c as r,r as o,s as p,g as e,m as F,b as g,a as X,t as H,d as A,l as Q,F as nt,e as st,f as et}from"./UMRfY9Ko.js";import{s as Y}from"./Bq4tIOc4.js";import{i as L,s as lt,a as W}from"./C8EeH_y7.js";import{t as $,a as w,c as ye}from"./D7kVQxiR.js";import{s as q,a as ke,r as Ce}from"./CBgq6MFg.js";import{s as Z}from"./CC0ELNUk.js";import{e as V}from"./D7M_RLsn.js";import{i as G}from"./DwRdgw7B.js";import{p as B}from"./CSfE_DI5.js";import{o as ot,a as yt}from"./D_1OQ_gr.js";import{g as $e,b as _e,n as Ie}from"./BT9fSTVj.js";import{A as je}from"./DWIrC3rO.js";import{e as kt,i as Ct}from"./DiuJufaP.js";import{s as Be}from"./DdBNofAX.js";import{a as Ee}from"./Bhxzz1gg.js";import{A as $t}from"./C1d6j-5H.js";import{B as ct}from"./D3Jopq65.js";import{t as dt}from"./KgIHh09F.js";import{c as Le,a as _t}from"./zx05KRmR.js";import{I as It}from"./CUEp9C6H.js";import{N as jt,f as Ve,h as Me,u as Se,l as Bt,__tla as ze}from"./DLIL6ljq.js";import{h as Oe}from"./BwAk31OB.js";import{I as Ne}from"./CLr_OwUz.js";import{l as Te,__tla as Ae}from"./-ZjqoEbN.js";import{s as Fe,j as He,f as Et,a as Re}from"./DAxMji9q.js";import{C as Ue}from"./CEvo3YrK.js";import{u as Lt}from"./rUUE80t4.js";import{g as Vt}from"./CS3uJLGD.js";import{M as Pe}from"./C4RbeQdv.js";import"./BuuPHrM8.js";import{k as De,I as Mt}from"./CpOe2gu7.js";import{a as We}from"./CVxajco_.js";let St,Je=Promise.all([(()=>{try{return ze}catch{}})(),(()=>{try{return Ae}catch{}})()]).then(async()=>{var zt=$("<i></i>"),Ot=$('<button class="flex items-center px-4 py-3 font-medium text-base text-gray-700 hover:bg-[var(--primary-color)] w-full text-left hover:text-white"><!> </button>'),Nt=$('<div class="absolute right-0 mt-2 bg-white rounded-3xl shadow-lg py-3 w-49 overflow-hidden"><div class="py-1"></div></div>'),Tt=$('<div class="relative dropdown-container"><button><!></button> <!></div>');function At(N,n){K(n,!1);let s=B(n,"items",24,()=>[{label:"Option 1",link:"",clickCB:null,icon:null},{label:"Option 2",link:"",clickCB:null,icon:null}]),b=F(!1);const m=d=>{d.target.closest(".dropdown-container")||g(b,!1)};ot(()=>{document.addEventListener("click",m)}),yt(()=>{document.removeEventListener("click",m)});const v=d=>{var u,f,l;((f=(u=s()[d])==null?void 0:u.link)==null?void 0:f.length)>0?$e(s()[d].link):(l=s()[d])!=null&&l.clickCB&&s()[d].clickCB(),g(b,!1)};G();var _=Tt(),h=r(_),M=r(h);Be(M,n,"default",{}),o(h);var y=p(h,2);{var k=d=>{var u=Nt(),f=r(u);kt(f,5,s,Ct,(l,a,I)=>{var j=Ot(),E=r(j);{var S=i=>{var x=zt();H(()=>Z(x,`${e(a).icon} mr-4 text-xl`)),w(i,x)};L(E,i=>{e(a).icon&&i(S)})}var O=p(E);o(j),H(()=>Y(O,` ${e(a).label??""}`)),V("click",j,()=>{v(I)}),w(l,j)}),o(f),o(u),w(d,u)};L(y,d=>{e(b)&&d(k)})}o(_),V("click",h,()=>g(b,!e(b))),w(N,_),X()}var Ft=$("<span><!></span>"),Ht=$('<div class="flex gap-2 mt-3"><!> <!></div>'),Rt=$('<div tabindex="0" role="button" aria-label="Notification"><div class="flex items-start gap-3"><div class="flex-shrink-0"><!></div> <div class="flex-1"><div class="flex flex-col"><div class="text-sm text-gray-600"><!></div> <div class="text-xs text-gray-500 mt-1"> </div></div> <!></div></div></div>');function Ut(N,n){K(n,!1);const[s,b]=lt(),m=()=>W(dt,"$t",s);let v=B(n,"notification",8);function _(){event.preventDefault(),console.log("handleReject")}function h(c){Me(c)}function M(c){(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),h())}G();var y=Rt(),k=r(y),d=r(k),u=r(d);{var f=c=>{Ne(c,{get src(){return It.YELLOW_BELL_ICON},width:"38",height:"38"})},l=c=>{const z=A(()=>{var R;return(R=v())==null?void 0:R.profile_picture});$t(c,{get t(){return e(z)},s:44,u:44,ml:"auto",mr:"auto"})};L(u,c=>{v().event_item===jt.CERTIFICATE?c(f):c(l,!1)})}o(d);var a=p(d,2),I=r(a),j=r(I),E=r(j);{var S=c=>{var z=Ft(),R=r(z);Oe(R,()=>v().formattedMessage),o(z),w(c,z)};L(E,c=>{v().formattedMessage&&c(S)})}o(j);var O=p(j,2),i=r(O,!0);o(O),o(I);var x=p(I,2);{var P=c=>{var z=Ht(),R=r(z);const tt=A(()=>m()("reject"));ct(R,{get label(){return e(tt)},size:"small",type:"3d-primary",customClass:" !py-1.5 w-[108px] !text-base",onClick:_});var D=p(R,2);const J=A(()=>m()("accept"));ct(D,{get label(){return e(J)},size:"small",type:"3d-secondary",customClass:"!py-1.5 w-[108px] !text-base"}),o(z),w(c,z)};L(x,c=>{v().event_item===jt.INVITATION&&c(P)})}o(a),o(k),o(y),H(c=>{Z(y,`p-4 my-2 rounded-lg duration-200 ${(v().event_item!==1?"hover:bg-[#EEEEEE] cursor-pointer":"")??""}`),Y(i,c)},[()=>Ve(v().on_date)],A),V("click",y,()=>h(v())),V("keydown",y,M),w(N,y),X(),b()}var Pt=$('<div class="p-4 text-center text-gray-500"> </div>'),Dt=$('<div role="button" tabindex="0" class="fixed inset-0  bg-opacity-20 backdrop-blur-[2px] z-40 transition-opacity duration-300 ease-in-out overflow-hidden" aria-label="Close notifications"></div> <div class="fixed top-0 right-0 h-full w-full max-w-[350px] bg-white z-50 shadow-lg transform transition-transform duration-300 ease-in-out overflow-hidden"><div class="flex items-center justify-between p-4 "><h2 class="text-xl font-bold text-[#415861]"> </h2> <button class="text-gray-500 hover:text-gray-700 focus:outline-none transition-colors duration-200" aria-label="Close notifications"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="p-2 overflow-y-auto" style="max-height: calc(100vh - 70px);"><!></div></div>',1);function Wt(N,n){K(n,!1);const[s,b]=lt(),m=()=>W(dt,"$t",s);let v=B(n,"isOpen",8,!1),_=B(n,"onClose",8,()=>{}),h=B(n,"notifications",24,()=>[]);function M(i){i.key==="Escape"&&v()&&_()()}function y(i){(i.key==="Enter"||i.key===" ")&&_()()}ot(()=>{document.addEventListener("keydown",M)}),yt(()=>{Se(),document.removeEventListener("keydown",M)}),Q(()=>nt(v()),()=>{typeof document<"u"&&(v()?document.body.style.overflow="hidden":document.body.style.overflow="")}),st(),G();var k=Dt(),d=et(k),u=p(d,2),f=r(u),l=r(f),a=r(l,!0);o(l);var I=p(l,2);o(f);var j=p(f,2),E=r(j);{var S=i=>{var x=Pt(),P=r(x,!0);o(x),H(c=>Y(P,c),[()=>m()("no_notifications")],A),w(i,x)},O=i=>{var x=ye(),P=et(x);kt(P,1,h,Ct,(c,z)=>{Ut(c,{get notification(){return e(z)}})}),w(i,x)};L(E,i=>{!h()||h().length===0?i(S):i(O,!1)})}o(j),o(u),H(i=>{q(d,"style",`opacity: ${(v()?"1":"0")??""}; pointer-events: ${(v()?"auto":"none")??""};`),q(u,"style",`border-top-left-radius: 20px; border-bottom-left-radius: 20px; transform: translateX(${(v()?"0":"100%")??""});`),Y(a,i)},[()=>m()("notifications")],A),V("click",d,function(...i){var x;(x=_())==null||x.apply(this,i)}),V("keydown",d,y),V("click",I,function(...i){var x;(x=_())==null||x.apply(this,i)}),w(N,k),X(),b()}var Jt=$('<span class="absolute -top-4 -right-2 bg-red-500 text-white rounded-full min-w-[18px] h-[18px] text-xs flex justify-center items-center p-[2px] font-bold"> </span>'),Kt=$('<div class="self-baseline bg-white/20 bg-opacity-60 rounded-full w-[50px] h-[50px] flex justify-center items-center"><button data-tag="notifications" class="w-full h-full flex justify-center items-center cursor-pointer border-none bg-transparent rounded-full" aria-label="Notifications"><div class="relative flex justify-center items-center"><!> <img alt="Notifications" class="w-[26px] h-[26px] brightness-0 invert"></div></button></div> <!>',1);function Xt(N,n){K(n,!1);let s=F([]),b=F(!1),m=F(0);async function v(){g(b,!e(b)),g(s,await Bt())}ot(async()=>{g(s,await Bt())}),Q(()=>e(s),()=>{e(s)&&g(m,Array.isArray(e(s))&&e(s).length>0?e(s).filter(a=>(a==null?void 0:a.is_read)===0).length:0)}),st(),G();var _=Kt(),h=et(_),M=r(h),y=r(M),k=r(y);{var d=a=>{var I=Jt(),j=r(I,!0);o(I),H(()=>Y(j,e(m))),w(a,I)};L(k,a=>{e(m)>0&&a(d)})}var u=p(k,2);o(y),o(M),o(h);var f=p(h,2);{var l=a=>{Wt(a,{get isOpen(){return e(b)},onClose:()=>g(b,!1),get notifications(){return e(s)}})};L(f,a=>{e(b)&&a(l)})}H(()=>q(u,"src",It.BELL_ICON)),V("click",M,v),w(N,_),X()}var Yt=$('<div slot="header" class="bg-[var(--primary-color)] py-4 px-6"><div class="flex justify-center items-center space-x-3"><img src="/images/icons/invite.png" alt="Invite icon" class="w-8 h-8"> <h2 class="text-white text-xl font-bold">Invite your friends</h2></div></div>'),qt=$(`<div slot="body" class="space-y-6"><p class="text-gray-700 text-lg">Challenge your friends and invite them to the competition by sharing the
      link.</p> <div class="flex items-center border rounded-full overflow-hidden"><input type="text" class="flex-grow p-3 outline-none text-gray-600 overflow-hidden overflow-ellipsis" readonly=""> <button class="bg-[var(--primary-color)] text-white font-bold my-1 mx-1 rounded-4xl py-2 px-6">copy</button></div> <div class="space-y-3"><button class="flex items-center justify-center w-full p-3 border rounded-full text-gray-600 hover:bg-gray-50"><span class="text-blue-400 mr-3"><svg class="w-6 h-6" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"></path></svg></span> Share on Twitter</button> <button class="flex items-center justify-center w-full p-3 border rounded-full text-gray-600 hover:bg-gray-50"><span class="text-blue-600 mr-3"><svg class="w-6 h-6" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg></span> Share on Facebook</button> <button class="flex items-center justify-center w-full p-3 border rounded-full text-gray-600 hover:bg-gray-50"><span class="text-blue-700 mr-3"><svg class="w-6 h-6" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></span> Share on LinkedIn</button></div></div>`);function Gt(N,n){var d;K(n,!1);let s=B(n,"open",12,!1),b=B(n,"onClose",8,()=>{});const m=(d=Vt(Lt))==null?void 0:d.user_id,v=De("enc",`${m}`);console.log("this is user id",m,v);const _=`account/sign-up?friends_id=${v}`,h=`${Vt(Fe).share_url||[]}${_}`;function M(){b()(),s(!1)}function y(){navigator.clipboard.writeText(h).then(()=>{We("Invite Link copied")}).catch(u=>{console.error("Failed to copy link: ",u)})}function k(u){let f;const l=encodeURIComponent(h),a=encodeURIComponent("Challenge your friends and invite them to the competition!");switch(u){case"twitter":f=`https://x.com/intent/tweet?url=${l}&text=${a}`;break;case"facebook":f=`https://www.facebook.com/sharer/sharer.php?u=${l}`;break;case"linkedin":f=`https://www.linkedin.com/sharing/share-offsite/?url=${l}&title=${encodeURIComponent("Join our competition!")}&summary=${a}`;break;case"whatsapp":f=`https://api.whatsapp.com/send?text=${a}%20${l}`;break;case"telegram":f=`https://t.me/share/url?url=${l}&text=${a}`;break;default:return}window.open(f,"_blank","noopener,noreferrer")}G(),Pe(N,{onClick:M,maxWidth:500,customClass:"overflow-hidden",get open(){return s()},set open(u){s(u)},$$slots:{header:(u,f)=>{var l=Yt();w(u,l)},body:(u,f)=>{var l=qt(),a=p(r(l),2),I=r(a);Ce(I),ke(I,h);var j=p(I,2);o(a);var E=p(a,2),S=r(E),O=p(S,2),i=p(O,2);o(E),o(l),V("click",j,y),V("click",S,()=>k("twitter")),V("click",O,()=>k("facebook")),V("click",i,()=>k("linkedin")),w(u,l)}},$$legacy:!0}),X()}var Qt=$('<button><img alt="Instance Logo"> <img alt="Instance Logo"></button>'),Zt=$('<button type="button" class="border-none bg-transparent rounded-full p-0 cursor-pointer"><div class="p-3 bg-white/20 rounded-full flex justify-center items-center"><img src="/images/share.svg" alt="Share" class="w-[26px] h-[26px] brightness-0 invert"></div></button>'),te=$('<div class="flex space-x-2 bg-[#00000099] relative rounded-full w-30 h-10 items-center"><img src="/images/coin.svg" alt="Coin" class="flex absolute w-12 left-0"> <span class="text-white font-lg text-right w-full px-3 font-bold"> </span></div>'),ee=$('<div class="h-12 w-12 rounded-full cursor-pointer"><!></div>'),oe=$('<div class="flex items-center justify-between p-4 bg-transparent z-5 px-4 md:px-6"><div class="flex items-center space-x-2"><!> <!></div> <div class="flex items-center space-x-3"><!> <!> <!> <!> <!></div></div> <!> <!>',1);St=function(N,n){K(n,!1);const[s,b]=lt(),m=()=>W(dt,"$t",s),v=()=>W(Le,"$competitionStore",s),_=()=>W(Ie,"$navigationStore",s),h=()=>W(Lt,"$userStore",s),M=()=>W(_t,"$appbarStore",s),y=F(),k=F();let d=B(n,"coinCount",8,0),u=B(n,"isLogoVisible",8,!1),f=B(n,"backLabel",8,"Competitions"),l=B(n,"isBackButtonVisible",8,!0),a=B(n,"isCoinVisible",8,!1),I=B(n,"isProfileVisible",8,!1),j=B(n,"isVoucherButtonVisible",8,!1),E=F(!1),S=B(n,"profilePicture",8),O=B(n,"dropdownItems",24,()=>[]),i=F();function x(){_t.update(t=>({...t,isVoucherModalVisible:!0}))}const{web_logo:P,mobile_logo:c}=He();let z=Et?"w-55":"w-40",R="w-11 h-11",tt=Re?"":"filter brightness-0 invert",D=F(!1),J=F(!1);const rt=m()("signout");function re(t){t.label===rt?g(D,!0):t.clickCB()}function ae(){g(D,!1),Te()}function ie(){g(D,!1)}function ut(){g(J,!0)}function ne(){g(J,!1)}function pt(){const t=window.location.pathname.split("/");return t[t.length-1]==="friends"}ot(()=>{g(E,pt()),e(E)&&v().competition_id}),Ee(()=>{g(E,pt()),e(E)}),Q(()=>nt(S()),()=>{g(i,S()&&S().length<5?`/images/profiles/${S()}.png`:S())}),Q(()=>nt(O()),()=>{g(y,O().map(t=>({...t,clickCB:()=>re(t)})))}),Q(()=>Mt,()=>{g(k,Mt())}),st(),G();var vt=oe(),at=et(vt),it=r(at),ft=r(it);{var se=t=>{je(t,{arrowType:"back",get link(){return _().back_url},customClass:"text-white",get label(){return f()}})};L(ft,t=>{l()&&t(se)})}var le=p(ft,2);{var ce=t=>{var C=Qt(),T=r(C);q(T,"src",P),Z(T,`${`${z} object-contain hidden md:flex ${tt} cursor-pointer`??""} svelte-k3bx24`);var U=p(T,2);q(U,"src",c),Z(U,`${`${R} object-contain flex md:hidden ${tt}`??""} svelte-k3bx24`),o(C),H(()=>Z(C,`flex items-center space-x-2 ${(l()?"":"cursor-default")??""} svelte-k3bx24`)),V("click",C,()=>{l()&&_e()}),w(t,C)};L(le,t=>{u()&&t(ce)})}o(it);var mt=p(it,2),ht=r(mt);{var de=t=>{var C=Zt();H(T=>q(C,"aria-label",T),[()=>m()("share")],A),V("click",C,ut),V("keydown",C,T=>T.key==="Enter"&&ut()),w(t,C)};L(ht,t=>{e(E)&&t(de)})}var gt=p(ht,2);{var ue=t=>{var C=te(),T=p(r(C),2),U=r(T,!0);o(T),o(C),H(()=>Y(U,d())),w(t,C)};L(gt,t=>{a()&&t(ue)})}var bt=p(gt,2);{var pe=t=>{const C=A(()=>m()("add_voucher_code"));ct(t,{get label(){return e(C)},size:"large",type:"3d-secondary",customClass:"w-full mb-[0.6rem]",onClick:()=>{x()}})};L(bt,t=>{j()&&!Et&&!e(k)&&t(pe)})}var xt=p(bt,2);{var ve=t=>{At(t,{get items(){return e(y)},children:(C,T)=>{var U=ee(),we=r(U);$t(we,{get t(){return h().profile_picture},s:50,u:50,ml:"auto",mr:"auto"}),o(U),w(C,U)},$$slots:{default:!0}})};L(xt,t=>{e(i)&&e(i).length>0&&I()&&t(ve)})}var fe=p(xt,2);{var me=t=>{Xt(t,{})};L(fe,t=>{M().isNotificationVisible&&!e(k)&&t(me)})}o(mt),o(at);var wt=p(at,2);const he=A(()=>`Are you sure you want to ${rt.toLowerCase()}?`),ge=A(()=>m()("cancel")),be=A(()=>m()("signout"));Ue(wt,{title:rt,get message(){return e(he)},onConfirm:ae,onCancel:ie,get cancelText(){return e(ge)},get successText(){return e(be)},get showModal(){return e(D)},set showModal(t){g(D,t)},$$legacy:!0});var xe=p(wt,2);Gt(xe,{onClose:ne,get open(){return e(J)},set open(t){g(J,t)},$$legacy:!0}),w(N,vt),X(),b()}});export{St as A,Je as __tla};
