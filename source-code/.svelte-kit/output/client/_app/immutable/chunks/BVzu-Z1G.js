import{b as Ve}from"./Bhxzz1gg.js";import"./BDr9Qe-U.js";import"./69_IOA4Y.js";import{p as J,c as o,r as a,s as v,t as z,b as j,m as D,g as d,a as R,f as me,d as E,l as pe,F as We,e as He}from"./UMRfY9Ko.js";import{t as C,a as k}from"./D7kVQxiR.js";import{a as ee,i as O,s as de}from"./C8EeH_y7.js";import{e as ue,i as fe}from"./DiuJufaP.js";import{i as F}from"./DwRdgw7B.js";import{p as T}from"./CSfE_DI5.js";import{I as te}from"./CUEp9C6H.js";import{P as Ue}from"./6G2ruq-d.js";import{s as K}from"./Bq4tIOc4.js";import{r as Xe,s as Q}from"./CBgq6MFg.js";import{t as Ze,s as ve}from"./CC0ELNUk.js";import{c as et,__tla as tt}from"./DO_Z3Jwx.js";import{i as st}from"./DAxMji9q.js";import{t as xe}from"./KgIHh09F.js";import{u as re}from"./rUUE80t4.js";import{B as ie}from"./D3Jopq65.js";import{C as at}from"./Cr0dAPij.js";import{e as ot}from"./D7M_RLsn.js";import{b as rt}from"./BhJX-mm8.js";import{I as it}from"./CLr_OwUz.js";import{M as lt}from"./C4RbeQdv.js";import{P as nt}from"./C8WVGIBp.js";import{T as ct}from"./CekKuENf.js";import{i as mt}from"./CpOe2gu7.js";import{g as ge}from"./CS3uJLGD.js";import{h as pt}from"./BwAk31OB.js";let le,be,we,ne,ce,_e,he,dt=Promise.all([(()=>{try{return tt}catch{}})()]).then(async()=>{function ye(c=".save-scroll"){{const t=document.querySelector(c);if(t){const r=window.location.pathname;sessionStorage.setItem(`scrollY-${r}`,""+t.scrollTop)}}}_e=function(c=[],t=".save-scroll"){Ve(({to:r})=>{const s=r==null?void 0:r.url.pathname;s&&c.includes(s)?$e():ye(t)})};function $e(){{const c=window.location.pathname;sessionStorage.removeItem(`scrollY-${c}`)}}he=function(c=".save-scroll"){setTimeout(()=>{const t=document.querySelector(c);if(t){const r=window.location.pathname,s=sessionStorage.getItem(`scrollY-${r}`);s!==null&&(t.scrollTop=parseInt(s))}},50)};var Ce=C('<span slot="header"><div class="bg-blue-400 px-4 py-3 flex justify-center items-center rounded-t-lg gap-2"><!> <span class="text-white font-semibold text-xl ms-2"> </span></div></span>'),ke=C('<span slot="body"><div class="p-4 text-center"><p class="text-gray-600 mt-2 font-medium text-base text-left"> </p> <div class="mt-4 relative"><input type="text" placeholder="Enter voucher code..." class="w-full border border-gray-300 rounded-lg p-2 py-4 pr-20 text-gray-700 focus:outline-none focus:ring-0"> <div class="absolute right-1 top-1/2 transform -translate-y-1/2"><!></div></div></div></span>');ne=function(c,t){J(t,!1);let r=T(t,"showModal",12,!1),s=T(t,"title",8),u=T(t,"id",8),i=T(t,"onSuccess",8,()=>{}),e=T(t,"onSubmit",8,async(p,N,g)=>{}),x=T(t,"instructionText",8),_=D("");function G(){r(!1),j(_,"")}async function b(){var p;((p=await e()(d(_),i(),u()))==null?void 0:p.error_code)===0&&G()}function I(p){p.key==="Enter"&&b()}F(),lt(c,{onClick:G,get open(){return r()},set open(p){r(p)},$$slots:{header:(p,N)=>{var g=Ce(),S=o(g),h=o(S);it(h,{get src(){return te.ADD_CODE_IMG},alt:"",className:"w-9 h-9 min-w-9"});var M=v(h,2),y=o(M,!0);a(M),a(S),a(g),z(()=>K(y,s())),k(p,g)},body:(p,N)=>{var g=ke(),S=o(g),h=o(S),M=o(h,!0);a(h);var y=v(h,2),w=o(y);Xe(w);var Y=v(w,2),P=o(Y);ie(P,{label:"Join",type:"primary",customClass:"w-[100px]",onClick:()=>b()}),a(Y),a(y),a(S),a(g),z(()=>K(M,x())),rt(w,()=>d(_),B=>j(_,B)),ot("keydown",w,I),k(p,g)}},$$legacy:!0}),R()};var Te=C('<div class="absolute top-0 left-0 right-0 w-full h-full p-2"><div class="bg-[#0c0c0ca4] flex items-center justify-center rounded-[15px] w-full h-full"><div class="flex flex-col items-center justify-center text-white"><img alt="Lock" class="w-24 mb-2 translate-x-4"> <!></div></div></div>'),Ie=C('<span class="text-sm sm:text-base font-normal text-gray-500 block mb-4 sm:mb-0"> </span>'),Se=C('<div class="mt-2 sm:mt-0"><!></div>'),Me=C('<div class="absolute bottom-4 right-4 flex items-center space-x-2"><div></div> <span> </span></div>'),Ne=C('<div><div class="h-60 relative overflow-hidden p-2 w-full h-full max-w-[400px] md:max-w-[2000px] md:w-[640px] md:h-[170px] lg:w-[912px] lg:h-[240px]"><picture><source media="(max-width: 768px)"> <img class="w-full h-full object-cover rounded-[15px]"></picture> <!></div> <div class="p-3 pb-8 pt-0 relative"><!> <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between"><div class="flex-1 min-w-0 pr-2"><h3 class="text-lg sm:text-xl lg:text-2xl font-medium break-words"> </h3> <!></div> <!></div> <!></div></div> <!>',1);function je(c,t){var S,h,M,y;J(t,!1);const[r,s]=de(),u=()=>ee(re,"$userStore",r),i=()=>ee(xe,"$t",r);let e=T(t,"competition",24,()=>({id:1,title:"The Green Singapore Competition",image:"https://bonzo.knowledgeplatform.com/images/competitions/learning_playground_banner1.png",is_demo:!1,banner_image_mobile:"",is_private_comp_enabled:0,is_public:0,is_voucher_added:0})),x=D(0),_=D(!1),G=T(t,"onItemClick",8),b=((S=u())==null?void 0:S.active_role)==="principal",I=st&&!b&&((h=e())==null?void 0:h.is_private_comp_enabled)===1&&((M=e())==null?void 0:M.is_public)===0&&((y=e())==null?void 0:y.is_voucher_added)===0;function p(w){G()(w)}function N(w){j(x,w),j(_,!0)}async function g(){j(_,!1),p(e().id)}F(),at(c,{className:`${I?"lock-card-shadow":"card-button-shadow"} `,btnClass:`${I?"!cursor-default":""}`,onClick:I?void 0:()=>p(e().id),children:(w,Y)=>{var P=Ne(),B=me(P),q=o(B),L=o(q),V=o(L),W=v(V,2);a(L);var H=v(L,2);{var l=n=>{var m=Te(),$=o(m),f=o($),Z=o(f),oe=v(Z,2);const Qe=E(()=>i()("unlock_the_competition"));ie(oe,{get label(){return d(Qe)},size:"large",type:"3d-secondary",customClass:"w-full",onClick:()=>{N(e().id)}}),a(f),a($),a(m),z(()=>Q(Z,"src",te.LOCK_ICON)),k(n,m)};O(H,n=>{I&&n(l)})}a(q);var A=v(q,2),U=o(A);{var Pe=n=>{const m=E(()=>{var f;return(f=e())==null?void 0:f.lessons_completed}),$=E(()=>{var f;return(f=e())==null?void 0:f.total_lessons});nt(n,{get completed(){return d(m)},get total(){return d($)},className:"h-2.5 mt-1",outsideLabel:!0})};O(U,n=>{var m;(m=e())!=null&&m.enrolled&&!I&&n(Pe)})}var se=v(U,2),ae=o(se),X=o(ae);Ze(X,"mb-2",!b);var ze=o(X,!0);a(X);var Le=v(X,2);{var Ae=n=>{var m=Ie(),$=o(m);a(m),z(()=>{var f;return K($,`Total Players: ${((f=e())==null?void 0:f.total_players)??""}`)}),k(n,m)};O(Le,n=>{b&&n(Ae)})}a(ae);var De=v(ae,2);{var Ye=n=>{var m=Se(),$=o(m);const f=E(()=>i()("view_progress"));ie($,{get label(){return d(f)},size:"small",type:"3d-secondary",customClass:"w-full sm:w-[200px]",onClick:()=>{}}),a(m),k(n,m)};O(De,n=>{b&&n(Ye)})}a(se);var qe=v(se,2);{var Je=n=>{var m=Me(),$=o(m),f=v($,2),Z=o(f,!0);a(f),a(m),z(oe=>{ve($,`w-3 h-3 rounded-full ${e().is_demo?"bg-cyan-500":"bg-green-600"}`),ve(f,`text-sm font-medium ${e().is_demo?"text-cyan-500":"text-green-600"}`),K(Z,oe)},[()=>e().is_demo?i()("demo"):i()("live")],E),k(n,m)};O(qe,n=>{b||n(Je)})}a(A),a(B);var Re=v(B,2);const Fe=E(()=>i()("add_voucher_code")),Ke=E(()=>i()("voucher_instruction"));ne(Re,{get id(){return d(x)},onSuccess:g,onSubmit:et,get title(){return d(Fe)},get instructionText(){return d(Ke)},get showModal(){return d(_)},set showModal(n){j(_,n)},$$legacy:!0}),z(()=>{Q(V,"srcset",e().banner_image_mobile),Q(W,"src",e().image),Q(W,"alt",e().title),K(ze,e().title)}),k(w,P)},$$slots:{default:!0}}),R(),s()}ce=(c,t,r,s="eng")=>{const u={text:""};if(!r||!c)return u;s=(s==null?void 0:s.trim())||"eng";const{principal:i={},paid_principal:e={},learner:x={}}=r;if(t===1)return{text:(e==null?void 0:e[s])||(e==null?void 0:e.eng)||u.text};switch(c){case"principal":return{text:(i==null?void 0:i[s])||(i==null?void 0:i.eng)||u.text};case"learner":default:return{text:(x==null?void 0:x[s])||(x==null?void 0:x.eng)||u.text}}};var Ge=C('<div class="card-button-shadow bg-white card rounded-[20px] overflow-hidden flex justify-center items-center px-3 py-8 w-full h-full max-w-[400px] md:max-w-[2000px] md:w-[640px] lg:w-[912px]"><img class="mr-3 w-14 h-12 object-contain" alt="Button icon"> <div><!></div></div>');le=function(c,t){J(t,!1);let r=T(t,"text",8);F();var s=Ge(),u=o(s),i=v(u,2),e=o(i);pt(e,r),a(i),a(s),z(()=>Q(u,"src",te.BANNER_CERT_IMG)),k(c,s),R()};var Be=C('<div class="w-full mb-8"><!></div> <div class="flex flex-col items-center space-y-8 bg-transparent mb-8 p-2 md:p-0"><!> <!> <!></div>',1);be=function(c,t){var H;J(t,!1);const[r,s]=de(),u=()=>ee(re,"$userStore",r),i=()=>ee(xe,"$t",r),e=D(),x=D(),_=ge(mt),G=JSON.parse(_.banner_text),b=ge(re),{text:I}=ce(b==null?void 0:b.active_role,0,G==null?void 0:G.banner_text);let p=T(t,"competitions",24,()=>[{id:1,title:"The Green Singapore Competition",image:"https://bonzo.knowledgeplatform.com/images/competitions/learning_playground_banner1.png",is_demo:!1,banner_image_mobile:"",enrolled:1}]),N=D(0),g=((H=u())==null?void 0:H.active_role)==="principal",S=T(t,"onItemClick",8);function h(l){S()(l)}pe(()=>(d(N),We(p())),()=>{j(e,d(N)===0?p():p().filter(l=>l.enrolled===1))}),pe(()=>u(),()=>{var l;j(x,(l=u())==null?void 0:l.is_guest_mode)}),He(),F();var M=Be(),y=me(M),w=o(y);{var Y=l=>{Ue(l,{get icon(){return te.COMPETITION_IMG},title:"competitions",imageClass:"w-9 h-11 sm:w-13 sm:h-11"})};O(w,l=>{g||l(Y)})}a(y);var P=v(y,2),B=o(P);{var q=l=>{const A=E(()=>[i()("all_competitions"),i()("my_competitions")]);ct(l,{get tabs(){return d(A)},className:"gap-6 w-3/4 sm:w-1/2 md:w-2/3 lg:w-1/2",get selectedTab(){return d(N)},set selectedTab(U){j(N,U)},$$legacy:!0})};O(B,l=>{!d(x)&&!g&&l(q)})}var L=v(B,2);{var V=l=>{le(l,{text:I})};O(L,l=>{!d(x)&&!g&&I&&l(V)})}var W=v(L,2);ue(W,1,()=>d(e),fe,(l,A)=>{je(l,{get competition(){return d(A)},onItemClick:h})}),a(P),k(c,M),R(),s()};var Ee=C('<div class="flex bg-gray-200 mx-auto rounded-2xl w-full h-70 max-w-[400px] md:max-w-[2000px] md:w-[640px] md:h-[230px] lg:w-[912px] lg:h-[300px]"></div>'),Oe=C('<div class="animate-pulse space-y-8 p-4 flex flex-col w-full"></div>');we=function(c,t){J(t,!1);const r=Array(3).fill(0);F();var s=Oe();ue(s,5,()=>r,fe,(u,i)=>{var e=Ee();k(u,e)}),a(s),k(c,s),R()}});export{le as B,be as C,we as S,ne as V,dt as __tla,ce as g,_e as m,he as r};
