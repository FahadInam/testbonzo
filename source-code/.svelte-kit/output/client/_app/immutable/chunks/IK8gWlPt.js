import"./BDr9Qe-U.js";import"./69_IOA4Y.js";import{p as ie,c as d,r as i,t as A,g as t,s as S,a as le,f as w,n as ve,e as re}from"./BWmI7Kwv.js";import{s as G}from"./CpvBVgdC.js";import{i as u}from"./DJyY-Ao_.js";import{e as M,i as Q}from"./DPui9idN.js";import{t as c,a,c as T}from"./cR8EBM7j.js";import{s as se}from"./Dui37nOO.js";import{s as de}from"./CQjx5DEQ.js";import{i as me}from"./CvLKQSYC.js";import{p as _}from"./Dtj4eyj4.js";import{A as oe}from"./DrO32kRC.js";import{I as C}from"./CZWMLGp1.js";import{I as O}from"./_Vcui5w2.js";var ce=c('<div class="px-2 md:px-4 py-3 text-left font-fredoka text-sm font-normal text-white capitalize"> </div>'),ne=c('<div class="inline-block w-6 h-6 md:w-8 md:h-8 bg-gray-300 rounded-full mr-2"></div>'),pe=c('<div class="px-2 md:px-4 py-2"><!> <div class="h-4 bg-gray-300 rounded w-2/3 md:w-3/4"></div></div>'),ue=c('<div class="flex first:bg-blue-100 even:bg-gray-100 animate-pulse top-[40px] z-10"></div>'),fe=c("<div> </div>"),xe=c('<!> <div class="truncate font-fredoka font-medium text-sm md:text-base text-gray-600"> </div>',1),ge=c('<!> <div class="truncate font-fredoka font-medium text-sm md:text-base text-gray-600"> </div>',1),ye=c('<div class="truncate font-fredoka font-medium text-sm md:text-base text-gray-600"> </div>'),we=c('<div class="px-1 md:px-4 py-2 text-left flex items-center"><div class="flex items-center gap-2 w-full"><!></div></div>'),be=c('<div class="flex first:bg-[var(--primary-color)] even:bg-gray-100"></div>'),he=c('<div class="w-full bg-white rounded-3xl shadow-md" style="clip-path: inset(0 0 0 0 round 24px);"><div class="bg-[var(--theme-dark-blue)] sticky top-0 z-10 flex"></div> <div><!></div></div>');function _e(P,o){ie(o,!1);let $=_(o,"columns",24,()=>[]),f=_(o,"data",24,()=>[]),l=_(o,"rankImages",24,()=>({})),U=_(o,"isLoading",8,!1);function J(m){return l()[m]||void 0}me();var Y=he(),Z=d(Y);M(Z,5,$,Q,(m,n)=>{var p=ce(),k=d(p,!0);i(p),A(()=>{se(p,"style",`width: ${t(n).width??""}`),G(k,t(n).label)}),a(m,p)}),i(Z);var H=S(Z,2),ee=d(H);{var te=m=>{var n=T(),p=w(n);M(p,0,()=>Array(5),Q,(k,x)=>{var b=ue();M(b,5,$,Q,(B,v)=>{var h=pe(),E=d(h);{var D=I=>{var K=ne();a(I,K)};u(E,I=>{t(v).type==="avatar"&&I(D)})}ve(2),i(h),A(()=>se(h,"style",`width: ${t(v).width??""}`)),a(B,h)}),i(b),a(k,b)}),a(m,n)},ae=m=>{var n=T(),p=w(n);M(p,1,f,Q,(k,x)=>{var b=be();M(b,5,$,Q,(B,v)=>{var h=we(),E=d(h),D=d(E);{var I=L=>{var j=T(),V=w(j);{var W=e=>{const r=re(()=>J(t(x)[t(v).key]));C(e,{get src(){return t(r)},className:"w-7 h-7 md:w-9 md:h-9 ps-1"})},X=e=>{var r=fe(),g=d(r,!0);i(r),A(()=>{de(r,`w-7 h-7 md:h-9 md:w-9 ms-0.5 md:ms-0 text-white font-medium text-sm flex items-center justify-center clip-hexagon ${t(x)[t(v).key]===1?"bg-blue-800":"bg-blue-400"}`),G(g,t(x)[t(v).key])}),a(e,r)};u(V,e=>{J(t(x)[t(v).key])?e(W):e(X,!1)})}a(L,j)},K=L=>{var j=T(),V=w(j);{var W=e=>{var r=xe(),g=w(r);const q=re(()=>t(x).profile_picture||O.SCHOOL_AVATAR);oe(g,{get t(){return t(q)},s:40,u:40,ml:0,mr:0});var R=S(g,2),s=d(R,!0);i(R),A(()=>G(s,t(x)[t(v).key])),a(e,r)},X=e=>{var r=T(),g=w(r);{var q=s=>{var y=ge(),z=w(y);C(z,{get src(){return O.COINS},width:"20",height:"20"});var F=S(z,2),N=d(F,!0);i(F),A(()=>G(N,t(x)[t(v).key])),a(s,y)},R=s=>{var y=ye(),z=d(y,!0);i(y),A(()=>G(z,t(x)[t(v).key])),a(s,y)};u(g,s=>{t(v).key==="total_points"?s(q):s(R,!1)},!0)}a(e,r)};u(V,e=>{t(v).key==="name"?e(W):e(X,!1)},!0)}a(L,j)};u(D,L=>{t(v).key==="rank"?L(I):L(K,!1)})}i(E),i(h),A(()=>se(h,"style",`width: ${t(v).width??""}`)),a(B,h)}),i(b),a(k,b)}),a(m,n)};u(ee,m=>{U()?m(te):m(ae,!1)})}i(H),i(Y),a(P,Y),le()}var ke=c('<div class="w-4 h-4 bg-gray-600 rounded"></div>'),Oe=c('<div class="animate-pulse flex flex-col items-center"><div class="w-20 h-20 md:w-24 md:h-24 bg-gray-700 rounded-full"></div> <div class="flex space-x-1 mt-2"></div> <div class="w-6 h-6 bg-gray-600 rounded-full mt-2"></div> <div class="w-24 h-4 bg-gray-700 rounded mt-2"></div></div>'),Ie=c('<div class="absolute inset-0 flex justify-center items-center w-[350px] -left-32 -z-1 -top-20"><!></div>'),Ne=c('<div class="absolute w-32 h-32 bg-blue-500 rounded-full blur-2xl opacity-50"></div> <div class="relative z-10"><!> <!></div> <div class="absolute -top-7 flex space-x-1 -mt-2 z-20"><!></div> <div class="absolute bottom-12 left-4 w-9 h-10 z-20"><!></div> <div class="w-[150px]"><p class="pt-4 text-white text-md font-semibold truncate overflow-hidden text-lg font-poppins"> </p></div>',1),Ae=c("<div><!></div>");function Se(P,o){ie(o,!1);let $=_(o,"username",8,""),f=_(o,"profile_picture",8,""),l=_(o,"rank",8,1),U=_(o,"stars",8,3),J=_(o,"size",8,"medium"),Y=_(o,"isLoading",8,!1),Z=_(o,"name",8,"");me();var H=Ae(),ee=d(H);{var te=m=>{var n=Oe(),p=S(d(n),2);M(p,5,()=>Array(U()).fill(0),Q,(k,x)=>{var b=ke();a(k,b)}),i(p),ve(4),i(n),a(m,n)},ae=m=>{var n=Ne(),p=S(w(n),2),k=d(p);const x=re(()=>f()||O.SCHOOL_AVATAR);oe(k,{get t(){return t(x)},s:100,u:100,ml:"auto",mr:"auto"});var b=S(k,2);{var B=e=>{var r=Ie(),g=d(r);C(g,{get src(){return O.RAYS_ICON},className:"w-full"}),i(r),a(e,r)};u(b,e=>{l()===1&&e(B)})}i(p);var v=S(p,2),h=d(v);{var E=e=>{C(e,{get src(){return O.STARS_THREE},className:"w-18"})},D=e=>{var r=T(),g=w(r);{var q=s=>{C(s,{get src(){return O.STARS_TWO},className:"w-16"})},R=s=>{var y=T(),z=w(y);{var F=N=>{C(N,{get src(){return O.STARS_ONE},className:"w-10"})};u(z,N=>{l()===3&&N(F)},!0)}a(s,y)};u(g,s=>{l()===2?s(q):s(R,!1)},!0)}a(e,r)};u(h,e=>{l()===1?e(E):e(D,!1)})}i(v);var I=S(v,2),K=d(I);{var L=e=>{C(e,{get src(){return O.POSITION_1_ICON}})},j=e=>{var r=T(),g=w(r);{var q=s=>{C(s,{get src(){return O.POSITION_2_ICON}})},R=s=>{var y=T(),z=w(y);{var F=N=>{C(N,{get src(){return O.POSITION_3_ICON}})};u(z,N=>{l()===3&&N(F)},!0)}a(s,y)};u(g,s=>{l()===2?s(q):s(R,!1)},!0)}a(e,r)};u(K,e=>{l()===1?e(L):e(j,!1)})}i(I);var V=S(I,2),W=d(V),X=d(W,!0);i(W),i(V),A(()=>G(X,$()||Z())),a(m,n)};u(ee,m=>{Y()?m(te):m(ae,!1)})}i(H),A(()=>de(H,`relative flex flex-col items-center ${J()==="large"?"scale-125":""}`)),a(P,H),le()}async function Te(P,o){return new Promise($=>{let f=[...o].sort((l,U)=>U.total_points-l.total_points).slice(0,3);if(!P){$(f);return}if(!f.some(l=>l.username===P.username)){let l=f[f.length-1];P.total_points>l.total_points&&(f.pop(),f.push(P))}f=[...new Map(f.map(l=>[l.username,l])).values()],$(f.slice(0,3))})}export{Se as L,_e as T,Te as g};
