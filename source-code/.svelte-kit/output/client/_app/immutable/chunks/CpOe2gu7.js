import{w as u,g as l}from"./CS3uJLGD.js";import{c as d,a as g}from"./zx05KRmR.js";import{u as m}from"./rUUE80t4.js";import{L as b}from"./EefveEWF.js";import{s as h}from"./CN0MmCAJ.js";import{s as w}from"./BT9fSTVj.js";import{g as v}from"./KgIHh09F.js";import{a as y,b as _,i as k,h as $}from"./DAxMji9q.js";import{g as L}from"./Bhxzz1gg.js";const p=u({instance_id:null,banner_text:""}),f=u({current_grade:null,grades:[]});function O(e,n){const t={};for(const a in e)n.hasOwnProperty(a)?t[n[a]]=e[a]:t[a]=e[a];return t}function E(e,n,t){return n.find(a=>a[t]===e)}function I(e,n,t){e.update(a=>({...a,[n]:t}))}function M(e,n){function t(a){a.key==="Enter"&&(n(a),a.preventDefault())}return e.addEventListener("keydown",t),{destroy(){e.removeEventListener("keydown",t)}}}async function r(e,n){return new Promise(t=>{const a=()=>{const s=l(e);s!=null&&s[n]?t(s[n]):typeof window<"u"&&requestAnimationFrame(a)};a()})}async function q(){return await r(m,"auth_token")}async function x(){return await r(p,"instance_id")}async function B(){return await r(d,"current_grade")}async function F(){return await r(f,"current_grade")}const N=(e,n)=>Math.floor(Math.random()*(n-e+1))+e,P=(e,n)=>e.filter((t,a,s)=>s.map(o=>o[n]).indexOf(t[n])===a);function V(e){return e?b.decompressFromBase64(e):null}const j=e=>/^[a-z0-9]+$/i.test(e);function z(e,n=1){if(e==null||isNaN(e))return"0";if(e<1e3)return e.toString();const t=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"B"},{value:1e6,symbol:"M"},{value:1e3,symbol:"k"}],a=t.find(s=>e>=s.value)||t[t.length-1];return(e/a.value).toFixed(n).replace(/\.0+$|(\.\d*[1-9])0+$/,"$1")+a.symbol}const S=async(e,n,t)=>{h.set({visible:e});const a=await v(n);setTimeout(()=>{g.set({visible:!0,backLabel:a,isLogoVisible:!1,isCoinVisible:!0,isBackButtonVisible:!0,isProfileVisible:!0})},50),w(t)},T=(e,n)=>{console.log(n,"data here");const t=JSON==null?void 0:JSON.parse(n),a=t.opponent_username,s=t.content_title,o=`<b>${a}</b>`,i=`<b>${s}</b>`,c=e.replace(a,o).replace(s,i);return console.log(c,"formattedMessage"),c},C=(e,n)=>{let t=Object.keys(e).filter(a=>!a.includes("a66.png")&&!a.includes("a67.png")).sort((a,s)=>{const o=parseInt(a.match(/a(\d+)\.png/)[1],10),i=parseInt(s.match(/a(\d+)\.png/)[1],10);return o-i}).map(a=>e[a].default);return n&&(t=t.slice(0,14)),t},D=e=>{const n=e.match(/a(\d+)\.png$/);return n?n[1]:null};function J(e,{animationClass:n}){const t=new IntersectionObserver(([a])=>{a.isIntersecting&&(e.classList.add("animate__animated",n),t.unobserve(e))},{});return t.observe(e),{destroy(){t.unobserve(e)}}}function R(e){return e<10?`0${e}`:`${e}`}const A=(e,n)=>{let t="";return n!=="undefined"&&(t=window.btoa(n)),t};function G(){const e=window.location.href;if(y)e==="https://app.shupavugames.com/"?window.location.href="https://shupavugames.com/":e==="https://learningapp.shupavugames.com/"&&(window.location.href="https://learning.shupavugames.com/");else if(_)e==="https://pocketgames.21c.digital/"&&L("/account/signup");else if(k){const n="https://globalclimateliteracy.org/";(e===n||e==="https://www.globalclimateliteracy.org/")&&(window.location.href=`${n}program/glc`)}else $&&e==="https://app.quotient.games/"&&(window.location.href="https://quotient.games/")}function H(){return!!l(m).is_guest_mode}export{H as I,G as L,P as R,q as a,B as b,r as c,x as d,E as e,T as f,f as g,z as h,p as i,V as j,A as k,J as l,N as m,C as n,M as o,D as p,O as r,S as s,I as u,j as v,F as w,R as z};
