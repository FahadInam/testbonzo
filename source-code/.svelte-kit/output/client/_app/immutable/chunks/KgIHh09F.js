import{d as g,g as d,w as i}from"./CS3uJLGD.js";const f="en",l=i(f),u=i({});let r=Promise.resolve(),s=!1;async function h(t,n){s=!1;try{const e=await((n==null?void 0:n.fetch)??fetch)(`/languages/${t}.json`);if(!e.ok)throw new Error("Language file not found");const o=await e.json();u.set(o)}catch(e){throw console.error("Failed to load text:",e),console.warn("Refreshing the page to retry loading the language file..."),setTimeout(()=>{window.location.reload()},1e3),e}s=!0}async function y(t=f,n){l.set(t),r=h(t,n),await r}const w=g([l,u],([t,n])=>(e,o={})=>{if(!n[e])return console.warn(`Text key "${e}" not found for language "${t}".`),"";let a=n[e];return Object.keys(o).forEach(c=>{a=a.replace(`{${c}}`,o[c])}),a});function m(){return new Promise((t,n)=>{setTimeout(()=>{t(!0)},100)})}async function x(t,n={}){for(await r;!s;)await m();const e=d(w)(t,n);return e||console.warn(`Text key "${t}" not found.`),e||""}export{x as g,y as i,w as t};
