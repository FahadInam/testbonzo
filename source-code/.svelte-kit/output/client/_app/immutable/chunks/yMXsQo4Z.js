import"./BDr9Qe-U.js";import"./69_IOA4Y.js";import{p as ie,c as d,r as i,t as A,g as t,s as S,a as le,f as w,n as ve,d as ae}from"./UMRfY9Ko.js";import{s as F}from"./Bq4tIOc4.js";import{i as f}from"./C8EeH_y7.js";import{e as G,i as M}from"./DiuJufaP.js";import{t as c,a as r,c as T}from"./D7kVQxiR.js";import{s as se}from"./CBgq6MFg.js";import{s as de}from"./CC0ELNUk.js";import{i as oe}from"./DwRdgw7B.js";import{p as _}from"./CSfE_DI5.js";import{A as me}from"./C1d6j-5H.js";import{I as C}from"./CLr_OwUz.js";import{I as O}from"./CUEp9C6H.js";var ce=c('<div class="px-2 md:px-4 py-3 text-left font-fredoka text-sm font-normal text-white capitalize"> </div>'),ne=c('<div class="inline-block w-6 h-6 md:w-8 md:h-8 bg-gray-300 rounded-full mr-2"></div>'),pe=c('<div class="px-2 md:px-4 py-2"><!> <div class="h-4 bg-gray-300 rounded w-2/3 md:w-3/4"></div></div>'),ue=c('<div class="flex first:bg-blue-100 even:bg-gray-100 animate-pulse top-[40px] z-10"></div>'),fe=c("<div> </div>"),xe=c('<!> <div class="truncate font-fredoka font-medium text-sm md:text-base text-gray-600"> </div>',1),ge=c('<!> <div class="truncate font-fredoka font-medium text-sm md:text-base text-gray-600"> </div>',1),ye=c('<div class="truncate font-fredoka font-medium text-sm md:text-base text-gray-600"> </div>'),we=c('<div class="px-1 md:px-4 py-2 text-left flex items-center"><div class="flex items-center gap-2 w-full"><!></div></div>'),be=c('<div class="flex first:bg-[var(--primary-color)] even:bg-gray-100"></div>'),he=c('<div class="w-full bg-white rounded-3xl shadow-md" style="clip-path: inset(0 0 0 0 round 24px);"><div class="bg-[var(--theme-dark-blue)] sticky top-0 z-10 flex"></div> <div><!></div></div>');function _e(P,m){ie(m,!1);let $=_(m,"columns",24,()=>[]),u=_(m,"data",24,()=>[]),l=_(m,"rankImages",24,()=>({})),Q=_(m,"isLoading",8,!1);function J(o){return l()[o]||void 0}oe();var Y=he(),Z=d(Y);G(Z,5,$,M,(o,n)=>{var p=ce(),k=d(p,!0);i(p),A(()=>{se(p,"style",`width: ${t(n).width??""}`),F(k,t(n).label)}),r(o,p)}),i(Z);var H=S(Z,2),ee=d(H);{var te=o=>{var n=T(),p=w(n);G(p,0,()=>Array(5),M,(k,x)=>{var b=ue();G(b,5,$,M,(B,v)=>{var h=pe(),E=d(h);{var D=I=>{var K=ne();r(I,K)};f(E,I=>{t(v).type==="avatar"&&I(D)})}ve(2),i(h),A(()=>se(h,"style",`width: ${t(v).width??""}`)),r(B,h)}),i(b),r(k,b)}),r(o,n)},re=o=>{var n=T(),p=w(n);G(p,1,u,M,(k,x)=>{var b=be();G(b,5,$,M,(B,v)=>{var h=we(),E=d(h),D=d(E);{var I=L=>{var j=T(),V=w(j);{var U=e=>{const a=ae(()=>J(t(x)[t(v).key]));C(e,{get src(){return t(a)},className:"w-7 h-7 md:w-9 md:h-9 ps-1"})},X=e=>{var a=fe(),g=d(a,!0);i(a),A(()=>{de(a,`w-7 h-7 md:h-9 md:w-9 ms-0.5 md:ms-0 text-white font-medium text-sm flex items-center justify-center clip-hexagon ${t(x)[t(v).key]===1?"bg-blue-800":"bg-blue-400"}`),F(g,t(x)[t(v).key])}),r(e,a)};f(V,e=>{J(t(x)[t(v).key])?e(U):e(X,!1)})}r(L,j)},K=L=>{var j=T(),V=w(j);{var U=e=>{var a=xe(),g=w(a);const q=ae(()=>t(x).profile_picture||O.SCHOOL_AVATAR);me(g,{get t(){return t(q)},s:40,u:40,ml:0,mr:0});var R=S(g,2),s=d(R,!0);i(R),A(()=>F(s,t(x)[t(v).key])),r(e,a)},X=e=>{var a=T(),g=w(a);{var q=s=>{var y=ge(),z=w(y);C(z,{get src(){return O.COINS},width:"20",height:"20"});var W=S(z,2),N=d(W,!0);i(W),A(()=>F(N,t(x)[t(v).key])),r(s,y)},R=s=>{var y=ye(),z=d(y,!0);i(y),A(()=>F(z,t(x)[t(v).key])),r(s,y)};f(g,s=>{t(v).key==="total_points"?s(q):s(R,!1)},!0)}r(e,a)};f(V,e=>{t(v).key==="name"?e(U):e(X,!1)},!0)}r(L,j)};f(D,L=>{t(v).key==="rank"?L(I):L(K,!1)})}i(E),i(h),A(()=>se(h,"style",`width: ${t(v).width??""}`)),r(B,h)}),i(b),r(k,b)}),r(o,n)};f(ee,o=>{Q()?o(te):o(re,!1)})}i(H),i(Y),r(P,Y),le()}var ke=c('<div class="w-4 h-4 bg-gray-600 rounded"></div>'),Oe=c('<div class="animate-pulse flex flex-col items-center"><div class="w-20 h-20 md:w-24 md:h-24 bg-gray-700 rounded-full"></div> <div class="flex space-x-1 mt-2"></div> <div class="w-6 h-6 bg-gray-600 rounded-full mt-2"></div> <div class="w-24 h-4 bg-gray-700 rounded mt-2"></div></div>'),Ie=c('<div class="absolute inset-0 flex justify-center items-center w-[350px] -left-32 -z-1 -top-20"><!></div>'),Ne=c('<div class="absolute w-32 h-32 bg-blue-500 rounded-full blur-2xl opacity-50"></div> <div class="relative z-10"><!> <!></div> <div class="absolute -top-7 flex space-x-1 -mt-2 z-20"><!></div> <div class="absolute bottom-12 left-4 w-9 h-10 z-20"><!></div> <div class="w-[150px]"><p class="pt-4 text-white text-md font-semibold truncate overflow-hidden text-lg font-poppins"> </p></div>',1),Ae=c("<div><!></div>");function Se(P,m){ie(m,!1);let $=_(m,"username",8,""),u=_(m,"profile_picture",8,""),l=_(m,"rank",8,1),Q=_(m,"stars",8,3),J=_(m,"size",8,"medium"),Y=_(m,"isLoading",8,!1),Z=_(m,"name",8,"");oe();var H=Ae(),ee=d(H);{var te=o=>{var n=Oe(),p=S(d(n),2);G(p,5,()=>Array(Q()).fill(0),M,(k,x)=>{var b=ke();r(k,b)}),i(p),ve(4),i(n),r(o,n)},re=o=>{var n=Ne(),p=S(w(n),2),k=d(p);const x=ae(()=>u()||O.SCHOOL_AVATAR);me(k,{get t(){return t(x)},s:100,u:100,ml:"auto",mr:"auto"});var b=S(k,2);{var B=e=>{var a=Ie(),g=d(a);C(g,{get src(){return O.RAYS_ICON},className:"w-full"}),i(a),r(e,a)};f(b,e=>{l()===1&&e(B)})}i(p);var v=S(p,2),h=d(v);{var E=e=>{C(e,{get src(){return O.STARS_THREE},className:"w-18"})},D=e=>{var a=T(),g=w(a);{var q=s=>{C(s,{get src(){return O.STARS_TWO},className:"w-16"})},R=s=>{var y=T(),z=w(y);{var W=N=>{C(N,{get src(){return O.STARS_ONE},className:"w-10"})};f(z,N=>{l()===3&&N(W)},!0)}r(s,y)};f(g,s=>{l()===2?s(q):s(R,!1)},!0)}r(e,a)};f(h,e=>{l()===1?e(E):e(D,!1)})}i(v);var I=S(v,2),K=d(I);{var L=e=>{C(e,{get src(){return O.POSITION_1_ICON}})},j=e=>{var a=T(),g=w(a);{var q=s=>{C(s,{get src(){return O.POSITION_2_ICON}})},R=s=>{var y=T(),z=w(y);{var W=N=>{C(N,{get src(){return O.POSITION_3_ICON}})};f(z,N=>{l()===3&&N(W)},!0)}r(s,y)};f(g,s=>{l()===2?s(q):s(R,!1)},!0)}r(e,a)};f(K,e=>{l()===1?e(L):e(j,!1)})}i(I);var V=S(I,2),U=d(V),X=d(U,!0);i(U),i(V),A(()=>F(X,$()||Z())),r(o,n)};f(ee,o=>{Y()?o(te):o(re,!1)})}i(H),A(()=>de(H,`relative flex flex-col items-center ${J()==="large"?"scale-125":""}`)),r(P,H),le()}async function Te(P,m){return new Promise($=>{let u=[...m].sort((l,Q)=>Q.total_points-l.total_points).slice(0,3);if(console.log(u,"topUsers"),!P){$(u);return}if(!u.some(l=>l.username===P.username)){let l=u[u.length-1];P.total_points>l.total_points&&(u.pop(),u.push(P))}u=[...new Map(u.map(l=>[l.username,l])).values()],$(u.slice(0,3))})}export{Se as L,_e as T,Te as g};
