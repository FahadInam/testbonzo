import"./BDr9Qe-U.js";import"./69_IOA4Y.js";import{p as T,c as n,g as i,e as M,s as k,r as o,t as G,a as N,l as se,aP as z,m as B,F as H,d as le,f as re,n as R,b as $}from"./BWmI7Kwv.js";import{e as _}from"./Cio8JTVh.js";import{t as b,a as x}from"./cR8EBM7j.js";import{e as ie,i as oe}from"./DPui9idN.js";import{i as O}from"./CvLKQSYC.js";import{p as m}from"./Dtj4eyj4.js";import{a as V,s as W}from"./DJyY-Ao_.js";import{F as de}from"./B08xAkVk.js";import{A as ne}from"./DrO32kRC.js";import{I as q}from"./_Vcui5w2.js";import"./BoEBYeq-.js";import{s as ue}from"./CpvBVgdC.js";import{s as ce}from"./MyGX-iGX.js";import{t as J}from"./Bvbqq-zN.js";import{B as L}from"./BErKQ2SA.js";import{I as Q}from"./CZWMLGp1.js";import{M as ve}from"./NeQtxiIO.js";import{o as me,p as pe}from"./DWJ43-ZD.js";import{s as U}from"./CQjx5DEQ.js";import{b as fe}from"./CJxW89IG.js";var ge=b('<span slot="header"><div class="bg-blue-400 px-4 py-3 flex justify-center items-center rounded-t-lg gap-2"><!> <span class="text-white font-semibold text-xl ms-2"> </span></div></span>'),be=b('<span slot="body"><!></span>'),xe=b('<span slot="footer" class="p-2"><div class="flex justify-center gap-4"><!> <!></div></span>');function he(f,e){T(e,!1);const[c,h]=W(),g=()=>V(J,"$t",c);let s=m(e,"showModal",12,!1),u=m(e,"headerTitle",8,""),d=m(e,"headerImage",24,()=>q.CHANGE_GRADE_ICON),r=m(e,"onButtonClick",8,t=>{});O(),ve(f,{onClick:()=>r()("cancel"),maxWidth:920,customClass:"choose-avatar-modal",get open(){return s()},set open(t){s(t)},$$slots:{header:(t,A)=>{var l=ge(),v=n(l),p=n(v);Q(p,{get src(){return d()},alt:"",className:"w-9 h-9 min-w-9"});var w=k(p,2),y=n(w,!0);o(w),o(v),o(l),G(()=>ue(y,u())),x(t,l)},body:(t,A)=>{var l=be(),v=n(l);ce(v,e,"default",{}),o(l),x(t,l)},footer:(t,A)=>{var l=xe(),v=n(l),p=n(v);const w=M(()=>g()("cancel"));L(p,{get label(){return i(w)},size:"small",type:"3d-primary",customClass:"w-[160px] text-lg md:text-[22px]",onClick:()=>r()("cancel")});var y=k(p,2);const E=M(()=>g()("save"));L(y,{get label(){return i(E)},size:"small",type:"3d-secondary",customClass:"w-[160px] text-lg md:text-[22px]",onClick:()=>r()("save")}),o(v),o(l),x(t,l)}},$$legacy:!0}),N(),h()}var we=b('<button type="button"><!> <div><i class="i i-tick text-white text-sm font-semibold"></i></div></button>');function ye(f,e){T(e,!1);let c=m(e,"avatar",8),h=m(e,"selectedAvatar",8),g=m(e,"selectAvatar",8);O();var s=we(),u=n(s);Q(u,{get src(){return c()},alt:"avatar",className:"w-full h-full object-cover rounded-full shadow-md"});var d=k(u,2);o(s),G(()=>{U(s,`relative group cursor-pointer rounded-full transition-all duration-200 focus:outline-none focus:border-green-400 w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 border-5 p-1 ${h()===c()?"border-green-400":"border-white"}`),U(d,`absolute transition-transform duration-200 group-focus:scale-100 top-0 right-0 bg-green-400 p-1 rounded-full w-6 h-6 flex items-center justify-center ${h()===c()?"scale-100":"scale-0"}`)}),_("click",s,()=>g()(c())),_("keydown",s,r=>r.key==="Enter"&&g()(c())),x(f,s),N()}var ke=b('<div class="w-full max-w-4xl mx-auto max-h-[50vh] md:max-h-[60vh] overflow-y-auto py-4 md:py-8 bg-gradient-to-t from-[#277DFF] to-[#00FFE0] rounded-[15px] rounded-t-none"><div class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-6 mx-auto px-4 md:px-8 w-full max-w-3xl place-items-center justify-items-center"></div> <div class="h-2"></div></div>'),Ae=b('<div><div class="flex justify-center items-center py-2"><div role="button" tabindex="0" class="relative cursor-pointer"><!> <button class="absolute -bottom-1 -right-1 bg-blue-900 hover:bg-blue-800 border-4 border-white rounded-full p-1.5 cursor-pointer" aria-label="Edit avatar"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-white" viewBox="0 0 20 20" fill="currentColor"><path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"></path></svg></button></div></div> <div class="p-6"><!></div></div> <!>',1);function Ce(f,e){T(e,!1);const[c,h]=W(),g=()=>V(J,"$t",c);let s=B(!1),u=B(""),d=m(e,"profile_picture",12),r=m(e,"form",24,()=>({fields:[{name:"",type:"",label:"",placeholder:"",required:!0,layout:"",value:""}],buttons:[{label:"",type:""}],turnstileSiteKey:"",enableTurnstile:!1})),t=B({});function A(){history.back()}function l(){$(u,d()?`/images/profiles/a${d()}.png`:""),$(s,!i(s))}function v(a){$(s,!1),a==="save"&&i(u)&&(d(pe(i(u))),console.log("profile_picture",d()),z(t,i(t).profile_picture=d()))}const p={},w=67;for(let a=1;a<=w;a++){const I=`a${a}.png`;p[`/images/profiles/${I}`]=I}let y=me(p,fe);const E=a=>{$(u,a)};se(()=>(H(r()),H(d())),()=>{r().fields.forEach(a=>{z(t,i(t)[a.name]=a.value||"")}),z(t,i(t).profile_picture=d()||"")}),le(),O();var D=Ae(),j=re(D),F=n(j),C=n(F),X=n(C);ne(X,{get t(){return d()},s:100,u:100,ml:"auto",mr:"auto"}),R(2),o(C),o(F);var K=k(F,2),Y=n(K);de(Y,{get fields(){return r().fields},get buttons(){return r().buttons},get turnstileSiteKey(){return r().turnstileSiteKey},get enableTurnstile(){return r().enableTurnstile},get handleSubmit(){return r().handleSubmit},get formData(){return i(t)},handleCancel:A}),o(K),o(j);var Z=k(j,2);const ee=M(()=>g()("choose_avatar"));he(Z,{get showModal(){return i(s)},onButtonClick:v,get headerTitle(){return i(ee)},get headerImage(){return q.CHOOSE_AVATAR_ICON},children:(a,I)=>{var S=ke(),P=n(S);ie(P,5,()=>y,oe,(te,ae)=>{ye(te,{get avatar(){return i(ae)},get selectedAvatar(){return i(u)},selectAvatar:E})}),o(P),R(2),o(S),x(a,S)},$$slots:{default:!0}}),_("click",C,l),_("keydown",C,a=>(a.key==="Enter"||a.key===" ")&&l()),x(f,D),N(),h()}var $e=b('<div class="w-full grid"><div class="w-full p-4 bg-white rounded-[20px]"><div class="w-full flex justify-center items-center p-2 gap-3"><div class="w-full"><div class="flex flex-col"><div class="flex justify-center mb-4"><div class="mb-2 mt-4 relative"><div class="w-32 h-32 rounded-full bg-slate-200 animate-pulse"></div> <div class="w-10 h-10 rounded-full bg-slate-300 animate-pulse absolute bottom-0 right-0"></div></div></div></div> <div class="w-full p-4"><div class="flex gap-4 mb-6"><div class="h-12 flex-1 rounded-xl bg-slate-200 animate-pulse"></div> <div class="h-12 flex-1 rounded-xl bg-slate-200 animate-pulse"></div></div> <div class="flex gap-4"><div class="h-12 flex-1 rounded-xl bg-slate-200 animate-pulse"></div> <div class="h-12 flex-1 rounded-xl bg-slate-200 animate-pulse"></div></div></div> <div class="w-full p-4"><div class="flex gap-4 mb-6"><div class="h-12 flex-1 rounded-xl bg-slate-200 animate-pulse"></div> <div class="h-12 flex-1 rounded-xl bg-slate-200 animate-pulse"></div></div> <div class="flex gap-4"><div class="h-12 flex-1 rounded-xl bg-slate-200 animate-pulse"></div> <div class="h-12 flex-1 rounded-xl bg-slate-200 animate-pulse"></div></div></div></div></div> <div class="w-full p-5 pt-0 pb-0 gap-3"><div class="flex gap-4 mb-6"><div class="h-12 flex-1 rounded-xl bg-slate-200 animate-pulse"></div> <div class="h-12 flex-1 rounded-xl bg-slate-200 animate-pulse"></div></div></div></div></div>');function _e(f){var e=$e();x(f,e)}export{_e as E,Ce as P};
