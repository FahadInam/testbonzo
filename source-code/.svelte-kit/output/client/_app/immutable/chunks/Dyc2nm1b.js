import"./BDr9Qe-U.js";import"./69_IOA4Y.js";import{p as x,b as i,m as o,c as v,g as m,r as p,a as M,t as S}from"./UMRfY9Ko.js";import{e as V}from"./D7M_RLsn.js";import{t as u,a as _}from"./D7kVQxiR.js";import{i as W}from"./C8EeH_y7.js";import{s as j}from"./CBgq6MFg.js";import{b as z}from"./BqU0DZvs.js";import{i as A}from"./DwRdgw7B.js";import{o as D,a as P}from"./D_1OQ_gr.js";import{n as R,p as n,q as T,__tla as B}from"./-ZjqoEbN.js";let w,C=Promise.all([(()=>{try{return B}catch{}})()]).then(async()=>{var b=u('<div class="iframe-container svelte-e0m9td"><iframe id="myIframe" title="Login With LMS" class="svelte-e0m9td"></iframe></div>'),g=u("<div><!></div>");w=function(h,y){x(y,!1);let d=o(!1),l=o(""),c=o();const E=R.subscribe(t=>{i(d,t.isVisible),i(l,t.url)});async function f(t){var a,s;if(t.data&&t.data.success){const{auth_token:r,active_role:q}=(a=t==null?void 0:t.data)==null?void 0:a.data;await T((s=t==null?void 0:t.data)==null?void 0:s.data,r,7,n,q)}t.data==="closeIframe"&&n()}D(()=>{window.addEventListener("message",f)});function L(){window.dispatchEvent(new Event("loaderEnd"))}P(()=>{window.removeEventListener("message",f),E(),n()}),A();var e=g(),I=v(e);{var k=t=>{var a=b(),s=v(a);z(s,r=>i(c,r),()=>m(c)),p(a),S(()=>j(s,"src",m(l))),V("load",s,L),_(t,a)};W(I,t=>{m(d)&&t(k)})}p(e),_(h,e),M()}});export{C as __tla,w as default};
