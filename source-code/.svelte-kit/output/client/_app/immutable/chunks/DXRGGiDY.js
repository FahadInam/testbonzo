import{v as c}from"./BWmI7Kwv.js";import{l as s}from"./Cio8JTVh.js";import{i as f}from"./Dtj4eyj4.js";function v(e,t,r){if(e.multiple)return m(e,t);for(var i of e.options){var o=a(i);if(f(o,t)){i.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function d(e,t){c(()=>{var r=new MutationObserver(()=>{var i=e.__value;v(e,i)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function p(e,t,r=t){var i=!0;s(e,"change",o=>{var l=o?"[selected]":":checked",n;if(e.multiple)n=[].map.call(e.querySelectorAll(l),a);else{var u=e.querySelector(l)??e.querySelector("option:not([disabled])");n=u&&a(u)}r(n)}),c(()=>{var o=t();if(v(e,o,i),i&&o===void 0){var l=e.querySelector(":checked");l!==null&&(o=a(l),r(o))}e.__value=o,i=!1}),d(e)}function m(e,t){for(var r of e.options)r.selected=~t.indexOf(a(r))}function a(e){return"__value"in e?e.__value:e.value}export{p as b};
