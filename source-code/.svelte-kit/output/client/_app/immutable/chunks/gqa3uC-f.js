import"./BDr9Qe-U.js";import"./69_IOA4Y.js";import{p as q,c as a,r,s as u,g as e,m as H,b,a as D,t as R,e as A,l as G,F as lt,d as ct,f as et}from"./BWmI7Kwv.js";import{s as X}from"./CpvBVgdC.js";import{i as M,s as dt,a as P}from"./DJyY-Ao_.js";import{t as _,a as k,c as ke}from"./cR8EBM7j.js";import{s as Y,a as $e,r as Ce}from"./Dui37nOO.js";import{s as Q}from"./CQjx5DEQ.js";import{e as S}from"./Cio8JTVh.js";import{i as Z}from"./CvLKQSYC.js";import{p as L}from"./Dtj4eyj4.js";import{o as ot,a as $t}from"./DjNUT-oc.js";import{g as _e,b as Ee,n as Le}from"./CROUG2YM.js";import{A as Be}from"./Da3Dx6pr.js";import{e as Ct,i as _t}from"./DPui9idN.js";import{s as Ie}from"./MyGX-iGX.js";import{a as je}from"./BoEBYeq-.js";import{A as Et}from"./DrO32kRC.js";import{B as ut}from"./BErKQ2SA.js";import{t as pt,u as Lt}from"./Bvbqq-zN.js";import{q as Me,I as Bt,c as Se,a as It,t as ze}from"./DWJ43-ZD.js";import{I as jt}from"./_Vcui5w2.js";import{N as Mt,f as Ne,h as Ve,u as Ae,l as St,__tla as Oe}from"./BLmlSwtE.js";import{h as Te}from"./C-3V0pWC.js";import{I as He}from"./CZWMLGp1.js";import{i as Re,__tla as Fe}from"./DqqvuqO8.js";import{l as Ue,__tla as Pe}from"./RG-z8tzU.js";import{s as Je,k as We,f as zt,a as qe}from"./CJxW89IG.js";import{C as De}from"./EsZdy3dr.js";import{g as Nt}from"./C_S5TygX.js";import{M as Ge}from"./NeQtxiIO.js";import"./CbiYp799.js";import{a as Xe}from"./ClXJh1T-.js";import{g as Ye}from"./CkIfqAOp.js";let Vt,Ze=Promise.all([(()=>{try{return Oe}catch{}})(),(()=>{try{return Fe}catch{}})(),(()=>{try{return Pe}catch{}})()]).then(async()=>{var At=_("<i></i>"),Ot=_('<button class="flex items-center px-4 py-3 font-medium text-base text-gray-700 hover:bg-[var(--primary-color)] w-full text-left hover:text-white"><!> </button>'),Tt=_('<div class="absolute right-0 mt-2 bg-white rounded-3xl shadow-lg py-3 w-49 overflow-hidden"><div class="py-1"></div></div>'),Ht=_('<div class="relative dropdown-container"><button><!></button> <!></div>');function Rt(O,n){q(n,!1);let i=L(n,"items",24,()=>[{label:"Option 1",link:"",clickCB:null,icon:null},{label:"Option 2",link:"",clickCB:null,icon:null}]),w=H(!1);const h=o=>{o.target.closest(".dropdown-container")||b(w,!1)};ot(()=>{document.addEventListener("click",h)}),$t(()=>{document.removeEventListener("click",h)});const f=o=>{var p,l,v;((l=(p=i()[o])==null?void 0:p.link)==null?void 0:l.length)>0?_e(i()[o].link):(v=i()[o])!=null&&v.clickCB&&i()[o].clickCB(),b(w,!1)};Z();var m=Ht(),x=a(m),z=a(x);Ie(z,n,"default",{}),r(x);var y=u(x,2);{var E=o=>{var p=Tt(),l=a(p);Ct(l,5,i,_t,(v,c,B)=>{var $=Ot(),I=a($);{var N=d=>{var g=At();R(()=>Q(g,`${e(c).icon} mr-4 text-xl`)),k(d,g)};M(I,d=>{e(c).icon&&d(N)})}var V=u(I);r($),R(()=>X(V,` ${e(c).label??""}`)),S("click",$,()=>{f(B)}),k(v,$)}),r(l),r(p),k(o,p)};M(y,o=>{e(w)&&o(E)})}r(m),S("click",x,()=>b(w,!e(w))),k(O,m),D()}var Ft=_("<span><!></span>"),Ut=_('<div class="flex gap-2 mt-3"><!> <!></div>'),Pt=_('<div tabindex="0" role="button" aria-label="Notification"><div class="flex items-start gap-3"><div class="flex-shrink-0"><!></div> <div class="flex-1"><div class="flex flex-col"><div class="text-sm text-gray-600"><!></div> <div class="text-xs text-gray-500 mt-1"> </div></div> <!></div></div></div>');function Jt(O,n){q(n,!1);const[i,w]=dt(),h=()=>P(pt,"$t",i);let f=L(n,"notification",8);async function m(s){const j=JSON.parse(s.json_data);event.stopPropagation(),await Re(j,0)}function x(s){console.log(s,"data"),Ve(s)}function z(s){(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),x())}Z();var y=Pt(),E=a(y),o=a(E),p=a(o);{var l=s=>{He(s,{get src(){return jt.YELLOW_BELL_ICON},width:"38",height:"38"})},v=s=>{const j=A(()=>{var F;return(F=f())==null?void 0:F.profile_picture});Et(s,{get t(){return e(j)},s:44,u:44,ml:"auto",mr:"auto"})};M(p,s=>{f().event_item===Mt.CERTIFICATE?s(l):s(v,!1)})}r(o);var c=u(o,2),B=a(c),$=a(B),I=a($);{var N=s=>{var j=Ft(),F=a(j);Te(F,()=>f().formattedMessage),r(j),k(s,j)};M(I,s=>{f().formattedMessage&&s(N)})}r($);var V=u($,2),d=a(V,!0);r(V),r(B);var g=u(B,2);{var J=s=>{var j=Ut(),F=a(j);const rt=A(()=>h()("reject"));ut(F,{get label(){return e(rt)},size:"small",type:"3d-primary",customClass:" !py-1.5 w-[108px] !text-base",onClick:()=>m(f())});var K=u(F,2);const W=A(()=>h()("accept"));ut(K,{get label(){return e(W)},size:"small",type:"3d-secondary",customClass:"!py-1.5 w-[108px] !text-base"}),r(j),k(s,j)};M(g,s=>{f().event_item===Mt.INVITATION&&s(J)})}r(c),r(E),r(y),R(s=>{Q(y,`p-4 my-2 rounded-lg duration-200 ${(f().event_item!==1?"hover:bg-[#EEEEEE] cursor-pointer":"")??""}`),X(d,s)},[()=>Ne(f().on_date)],A),S("click",y,()=>x(f())),S("keydown",y,z),k(O,y),D(),w()}var Wt=_('<div class="p-4 text-center text-gray-500"> </div>'),qt=_('<div role="button" tabindex="0" class="fixed inset-0  bg-opacity-20 backdrop-blur-[2px] z-40 transition-opacity duration-300 ease-in-out overflow-hidden" aria-label="Close notifications"></div> <div class="fixed top-0 right-0 h-full w-full max-w-[350px] bg-white z-50 shadow-lg transform transition-transform duration-300 ease-in-out overflow-hidden"><div class="flex items-center justify-between p-4 "><h2 class="text-xl font-bold text-[#415861]"> </h2> <button class="text-gray-500 hover:text-gray-700 focus:outline-none transition-colors duration-200" aria-label="Close notifications"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="p-2 overflow-y-auto" style="max-height: calc(100vh - 70px);"><!></div></div>',1);function Dt(O,n){q(n,!1);const[i,w]=dt(),h=()=>P(pt,"$t",i);let f=L(n,"isOpen",8,!1),m=L(n,"onClose",8,()=>{}),x=L(n,"notifications",24,()=>[]);function z(d){d.key==="Escape"&&f()&&m()()}function y(d){(d.key==="Enter"||d.key===" ")&&m()()}ot(()=>{document.addEventListener("keydown",z)}),$t(()=>{Ae(),document.removeEventListener("keydown",z)}),G(()=>lt(f()),()=>{typeof document<"u"&&(f()?document.body.style.overflow="hidden":document.body.style.overflow="")}),ct(),Z();var E=qt(),o=et(E),p=u(o,2),l=a(p),v=a(l),c=a(v,!0);r(v);var B=u(v,2);r(l);var $=u(l,2),I=a($);{var N=d=>{var g=Wt(),J=a(g,!0);r(g),R(s=>X(J,s),[()=>h()("no_notifications")],A),k(d,g)},V=d=>{var g=ke(),J=et(g);Ct(J,1,x,_t,(s,j)=>{Jt(s,{get notification(){return e(j)}})}),k(d,g)};M(I,d=>{!x()||x().length===0?d(N):d(V,!1)})}r($),r(p),R(d=>{Y(o,"style",`opacity: ${(f()?"1":"0")??""}; pointer-events: ${(f()?"auto":"none")??""};`),Y(p,"style",`border-top-left-radius: 20px; border-bottom-left-radius: 20px; transform: translateX(${(f()?"0":"100%")??""});`),X(c,d)},[()=>h()("notifications")],A),S("click",o,function(...d){var g;(g=m())==null||g.apply(this,d)}),S("keydown",o,y),S("click",B,function(...d){var g;(g=m())==null||g.apply(this,d)}),k(O,E),D(),w()}var Gt=_('<span class="absolute -top-4 -right-2 bg-red-500 text-white rounded-full min-w-[18px] h-[18px] text-xs flex justify-center items-center p-[2px] font-bold"> </span>'),Xt=_('<div class="self-baseline bg-white/20 bg-opacity-60 rounded-full w-[50px] h-[50px] flex justify-center items-center"><button data-tag="notifications" class="w-full h-full flex justify-center items-center cursor-pointer border-none bg-transparent rounded-full" aria-label="Notifications"><div class="relative flex justify-center items-center"><!> <img alt="Notifications" class="w-[26px] h-[26px] brightness-0 invert"></div></button></div> <!>',1);function Yt(O,n){q(n,!1);let i=H([]),w=H(!1),h=H(0);async function f(){b(w,!e(w)),b(i,await St())}ot(async()=>{b(i,await St())}),G(()=>e(i),()=>{e(i)&&b(h,Array.isArray(e(i))&&e(i).length>0?e(i).filter(c=>(c==null?void 0:c.is_read)===0).length:0)}),ct(),Z();var m=Xt(),x=et(m),z=a(x),y=a(z),E=a(y);{var o=c=>{var B=Gt(),$=a(B,!0);r(B),R(()=>X($,e(h))),k(c,B)};M(E,c=>{e(h)>0&&c(o)})}var p=u(E,2);r(y),r(z),r(x);var l=u(x,2);{var v=c=>{Dt(c,{get isOpen(){return e(w)},onClose:()=>b(w,!1),get notifications(){return e(i)}})};M(l,c=>{e(w)&&c(v)})}R(()=>Y(p,"src",jt.BELL_ICON)),S("click",z,f),k(O,m),D()}var Zt=_('<div slot="header" class="bg-[var(--primary-color)] py-4 px-6"><div class="flex justify-center items-center space-x-3"><img src="/images/icons/invite.png" alt="Invite icon" class="w-8 h-8"> <h2 class="text-white text-xl font-bold">Invite your friends</h2></div></div>'),Qt=_(`<div slot="body" class="space-y-6"><p class="text-gray-700 text-lg">Challenge your friends and invite them to the competition by sharing the
      link.</p> <div class="flex items-center border rounded-full overflow-hidden"><input type="text" class="flex-grow p-3 outline-none text-gray-600 overflow-hidden overflow-ellipsis" readonly=""> <button class="bg-[var(--primary-color)] text-white font-bold my-1 mx-1 rounded-4xl py-2 px-6">copy</button></div> <div class="space-y-3"><button class="flex items-center justify-center w-full p-3 border rounded-full text-gray-600 hover:bg-gray-50"><span class="text-blue-400 mr-3"><svg class="w-6 h-6" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"></path></svg></span> Share on Twitter</button> <button class="flex items-center justify-center w-full p-3 border rounded-full text-gray-600 hover:bg-gray-50"><span class="text-blue-600 mr-3"><svg class="w-6 h-6" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg></span> Share on Facebook</button> <button class="flex items-center justify-center w-full p-3 border rounded-full text-gray-600 hover:bg-gray-50"><span class="text-blue-700 mr-3"><svg class="w-6 h-6" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></span> Share on LinkedIn</button></div></div>`);function Kt(O,n){var E;q(n,!1);let i=L(n,"open",12,!1),w=L(n,"onClose",8,()=>{});const h=(E=Nt(Lt))==null?void 0:E.user_id,f=`account/sign-up?friends_id=${Me("enc",`${h}`)}`,m=`${Nt(Je).share_url||[]}${f}`;function x(){w()(),i(!1)}function z(){navigator.clipboard.writeText(m).then(()=>{Xe("Invite Link copied")}).catch(o=>{console.error("Failed to copy link: ",o)})}function y(o){let p;const l=encodeURIComponent(m),v=encodeURIComponent("Challenge your friends and invite them to the competition!");switch(o){case"twitter":p=`https://x.com/intent/tweet?url=${l}&text=${v}`;break;case"facebook":p=`https://www.facebook.com/sharer/sharer.php?u=${l}`;break;case"linkedin":p=`https://www.linkedin.com/sharing/share-offsite/?url=${l}&title=${encodeURIComponent("Join our competition!")}&summary=${v}`;break;case"whatsapp":p=`https://api.whatsapp.com/send?text=${v}%20${l}`;break;case"telegram":p=`https://t.me/share/url?url=${l}&text=${v}`;break;default:return}window.open(p,"_blank","noopener,noreferrer")}Z(),Ge(O,{onClick:x,maxWidth:500,customClass:"overflow-hidden",get open(){return i()},set open(o){i(o)},$$slots:{header:(o,p)=>{var l=Zt();k(o,l)},body:(o,p)=>{var l=Qt(),v=u(a(l),2),c=a(v);Ce(c),$e(c,m);var B=u(c,2);r(v);var $=u(v,2),I=a($),N=u(I,2),V=u(N,2);r($),r(l),S("click",B,z),S("click",I,()=>y("twitter")),S("click",N,()=>y("facebook")),S("click",V,()=>y("linkedin")),k(o,l)}},$$legacy:!0}),D()}var te=_('<button><img alt="Instance Logo"> <img alt="Instance Logo"></button>'),ee=_('<button type="button" class="border-none bg-transparent rounded-full p-0 cursor-pointer"><div class="p-3 bg-white/20 rounded-full flex justify-center items-center"><img src="/images/share.svg" alt="Share" class="w-[26px] h-[26px] brightness-0 invert"></div></button>'),oe=_('<div class="flex space-x-2 bg-[#00000099] relative rounded-full w-30 h-10 items-center coin-counter"><img src="/images/coin.svg" alt="Coin" class="flex absolute w-12 left-0"> <span class="text-white font-lg text-right w-full px-3 font-bold"> </span></div>'),re=_('<div class="h-12 w-12 rounded-full cursor-pointer"><!></div>'),ae=_('<div class="flex items-center justify-between p-4 bg-transparent z-5 px-4 md:px-6"><div class="flex items-center space-x-2"><!> <!></div> <div class="flex items-center space-x-3"><!> <!> <!> <!> <!></div></div> <!> <!>',1);Vt=function(O,n){q(n,!1);const[i,w]=dt(),h=()=>P(pt,"$t",i),f=()=>P(Se,"$competitionStore",i),m=()=>P(Lt,"$userStore",i),x=()=>P(Ye,"$guestStore",i),z=()=>P(Le,"$navigationStore",i),y=()=>P(It,"$appbarStore",i),E=H();let o=L(n,"coinCount",12,0),p=L(n,"isLogoVisible",8,!1),l=L(n,"backLabel",8,"Competitions"),v=L(n,"isBackButtonVisible",8,!0),c=L(n,"isCoinVisible",8,!1),B=L(n,"isProfileVisible",8,!1),$=L(n,"isVoucherButtonVisible",8,!1),I=H(!1),N=H(!1),V=L(n,"profilePicture",8),d=L(n,"dropdownItems",24,()=>[]),g=H();function J(){It.update(t=>({...t,isVoucherModalVisible:!0}))}const{web_logo:s,mobile_logo:j}=We();let F=zt?"w-55":"w-40",rt="w-11 h-11",K=qe?"":"filter brightness-0 invert",W=H(!1),tt=H(!1);const at=h()("signout");function se(t){t.label===at?b(W,!0):t.clickCB()}function ie(){b(W,!1),Ue()}function ne(){b(W,!1)}function vt(){b(tt,!0)}function le(){b(tt,!1)}function ft(){const t=window.location.pathname.split("/");return t[t.length-1]==="friends"}ot(()=>{b(I,ft()),e(I)&&f().competition_id}),je(()=>{b(I,ft()),e(I)}),G(()=>lt(V()),()=>{b(g,V()&&V().length<5?`/images/profiles/${V()}.png`:V())}),G(()=>lt(d()),()=>{b(E,d().map(t=>({...t,clickCB:()=>se(t)})))}),G(()=>(m(),Bt),()=>{b(N,m()?Bt():!1)}),G(()=>(e(N),x()),()=>{e(N)&&o(x().points)}),ct(),Z();var mt=ae(),st=et(mt),it=a(st),gt=a(it);{var ce=t=>{Be(t,{arrowType:"back",get link(){return z().back_url},customClass:"text-white",get label(){return l()}})};M(gt,t=>{v()&&t(ce)})}var de=u(gt,2);{var ue=t=>{var C=te(),T=a(C);Y(T,"src",s),Q(T,`${`${F} object-contain hidden md:flex ${K} cursor-pointer`??""} svelte-k3bx24`);var U=u(T,2);Y(U,"src",j),Q(U,`${`${rt} object-contain flex md:hidden ${K}`??""} svelte-k3bx24`),r(C),R(()=>Q(C,`flex items-center space-x-2 ${(v()?"":"cursor-default")??""} svelte-k3bx24`)),S("click",C,()=>{v()&&Ee()}),k(t,C)};M(de,t=>{p()&&t(ue)})}r(it);var ht=u(it,2),xt=a(ht);{var pe=t=>{var C=ee();R(T=>Y(C,"aria-label",T),[()=>h()("share")],A),S("click",C,vt),S("keydown",C,T=>T.key==="Enter"&&vt()),k(t,C)};M(xt,t=>{e(I)&&t(pe)})}var bt=u(xt,2);{var ve=t=>{var C=oe(),T=u(a(C),2),U=a(T,!0);r(T),r(C),R(nt=>X(U,nt),[()=>ze(o(),2)],A),k(t,C)};M(bt,t=>{c()&&t(ve)})}var wt=u(bt,2);{var fe=t=>{const C=A(()=>h()("add_voucher_code"));ut(t,{get label(){return e(C)},size:"large",type:"3d-secondary",customClass:"w-full mb-[0.6rem] text-lg md:text-[22px]",onClick:()=>{J()}})};M(wt,t=>{$()&&!zt&&!e(N)&&t(fe)})}var yt=u(wt,2);{var me=t=>{Rt(t,{get items(){return e(E)},children:(C,T)=>{var U=re(),nt=a(U);Et(nt,{get t(){return m().profile_picture},s:50,u:50,ml:"auto",mr:"auto"}),r(U),k(C,U)},$$slots:{default:!0}})};M(yt,t=>{e(g)&&e(g).length>0&&B()&&t(me)})}var ge=u(yt,2);{var he=t=>{Yt(t,{})};M(ge,t=>{y().isNotificationVisible&&!e(N)&&t(he)})}r(ht),r(st);var kt=u(st,2);const xe=A(()=>`Are you sure you want to ${at.toLowerCase()}?`),be=A(()=>h()("cancel")),we=A(()=>h()("signout"));De(kt,{title:at,get message(){return e(xe)},onConfirm:ie,onCancel:ne,get cancelText(){return e(be)},get successText(){return e(we)},get showModal(){return e(W)},set showModal(t){b(W,t)},$$legacy:!0});var ye=u(kt,2);Kt(ye,{onClose:le,get open(){return e(tt)},set open(t){b(tt,t)},$$legacy:!0}),k(O,mt),D(),w()}});export{Vt as A,Ze as __tla};
