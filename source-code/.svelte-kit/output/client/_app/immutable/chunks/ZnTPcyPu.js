import{r as v}from"./KMGk3Nas.js";import{g as n}from"./CS3uJLGD.js";import{A as k,__tla as x}from"./xsk9tW-i.js";import{h as r,g as C,s as q,d as S,a as s,__tla as N}from"./-ZjqoEbN.js";import{g as t}from"./KgIHh09F.js";import{refreshUserToken as T,signUpUserUsingFormData as U,loginUser as I,__tla as A}from"./LAhWfPf4.js";import{i as D}from"./CpOe2gu7.js";import{g as F}from"./Bhxzz1gg.js";import{i as e,s as B}from"./DAxMji9q.js";import{C as P}from"./Bbd1q31I.js";let u,c,p,i,l,j=Promise.all([(()=>{try{return x}catch{}})(),(()=>{try{return N}catch{}})(),(()=>{try{return A}catch{}})()]).then(async()=>{var o;const d=((o=n(B))==null?void 0:o.city_list)||[];console.log(e,"isGclc"),l={...e?C:q,handleSubmit:async a=>{await U(a,"principal")},alternativeButtons:[{label:await t("c_google"),type:"secondary-outlined-inverted",image:"/images/google-icon.png",onClick:a=>r(a)}],footer:{text:await t("already_account"),button:{label:await t("login"),type:"secondary-outlined-inverted",link:"/account/institution/login"}},role:"principal"},i={...S,handleSubmit:async a=>{await I(a.email,a.password)},alternativeButtons:[{label:await t("c_google"),type:"secondary-outlined-inverted",image:"/images/google-icon.png",onClick:a=>r(a)}],footer:{text:await t("no_account"),button:{label:await t("signup"),type:"secondary-outlined-inverted",link:"/account/institution/signup"}},forgotPassword:{label:await t("forgot_password"),link:"/account/forgot-password"},role:"principal"},c={...i,footer:{text:await t("no_account"),button:{label:await t("signup"),type:"secondary-outlined-inverted",onClick:()=>{s.set({visible:!0,page:"institution-signup"})}}}},u={...l,footer:{text:await t("already_account"),button:{label:await t("login"),type:"secondary-outlined-inverted",onClick:()=>{s.set({visible:!0,page:"institution-login"})}}}},p={title:await t("enter_your_details"),fields:[{name:"instituteName",label:await t("institute_name"),type:"text",placeholder:await t("enter_institute_name"),required:!0,layout:"full",value:""},...e?[{name:"country",type:"select",label:await t("country_territory"),placeholder:await t("select_country"),required:!1,layout:"full",options:[{value:"",label:"Select Country"},...P],value:""},{name:"instituteCity",label:await t("institute_city"),type:"text",placeholder:await t("enter_institute_city"),required:!0,layout:"half"}]:[{name:"instituteCity",label:await t("institute_city"),type:"select",placeholder:await t("enter_institute_city"),required:!0,layout:"full",options:[{value:"",label:"Select City"},...d],value:""}],{name:"schoolNetwork",label:await t("school_network"),type:"text",placeholder:await t("enter_school_network"),required:!1,layout:"half",value:""},{name:"instituteAddress",label:await t("institute_address"),type:"text",placeholder:await t("enter_address"),required:!0,layout:"half",value:""},{name:"principal",label:await t("principal_name"),type:"text",placeholder:await t("enter_principal_name"),required:!0,layout:e?"half":"full",value:""},{name:"contact",label:await t("contact"),type:"tel",placeholder:"0300 1234567",required:!0,layout:"half",value:""},...e?[{name:"heardFrom",label:await t("heard_from"),type:"text",placeholder:await t("heard_from"),required:!1,layout:"full",value:""}]:[]],buttons:[{label:await t("account"),type:"submit",action:"submit",customClass:"w-full"}],handleSubmit:async a=>{console.log(a,"formData"),await y(a)},enableTurnstile:!1};async function y(a){const _=n(D).instance_id,{instituteName:m,instituteCity:w,schoolNetwork:g,instituteAddress:b,principal:f,contact:h}=a;(await v(k.INSTITUTION_DETAILS,{institution_name:m,institution_city:w,institution_network:g,institution_address:b,principal_name:f,phone_number:h},{headers:{instance_id:_}})).error_code==0&&await T(async()=>{F("/admin/competitions")})}});export{j as __tla,u as a,c as b,p as c,i,l as s};
