import{b as at}from"./BoEBYeq-.js";import"./BDr9Qe-U.js";import"./69_IOA4Y.js";import{p as R,l as ne,d as be,a as Z,s as f,c as o,t as q,g as n,m as F,b as M,F as we,r as s,f as ce,e as L}from"./BWmI7Kwv.js";import{t as _,a as w,c as st}from"./cR8EBM7j.js";import{a as ae,i as P,s as _e}from"./DJyY-Ao_.js";import{e as he,i as ye}from"./DPui9idN.js";import{i as H}from"./CvLKQSYC.js";import{p as I}from"./Dtj4eyj4.js";import{I as se}from"./_Vcui5w2.js";import{P as rt}from"./Br0AyJpI.js";import{s as Q}from"./CpvBVgdC.js";import{r as ot,s as U}from"./Dui37nOO.js";import{t as it,s as $e}from"./CQjx5DEQ.js";import{g as me}from"./C_S5TygX.js";import{c as lt,__tla as nt}from"./Cf2TjtaF.js";import{s as ct}from"./CJxW89IG.js";import{u as de,t as Ce}from"./Bvbqq-zN.js";import{B as pe}from"./BErKQ2SA.js";import{C as mt}from"./_nOA3xL7.js";import{e as dt}from"./Cio8JTVh.js";import{b as pt}from"./D8KE6gRb.js";import{b as ut}from"./CzvvLib5.js";import{I as vt}from"./CZWMLGp1.js";import{M as ft}from"./NeQtxiIO.js";import{P as gt}from"./DsRXg6dD.js";import{T as xt}from"./C3lS0y46.js";import{i as bt}from"./DWJ43-ZD.js";import{h as wt}from"./C-3V0pWC.js";import{N as _t}from"./DeT2Bmte.js";let ue,Se,ke,ve,fe,Ie,Te,ht=Promise.all([(()=>{try{return nt}catch{}})()]).then(async()=>{function Ne(m=".save-scroll"){{const t=document.querySelector(m);if(t){const i=window.location.pathname;sessionStorage.setItem(`scrollY-${i}`,""+t.scrollTop)}}}Ie=function(m=[],t=".save-scroll"){at(({to:i})=>{const r=i==null?void 0:i.url.pathname;r&&m.includes(r)?je():Ne(t)})};function je(){{const m=window.location.pathname;sessionStorage.removeItem(`scrollY-${m}`)}}Te=function(m=".save-scroll"){setTimeout(()=>{const t=document.querySelector(m);if(t){const i=window.location.pathname,r=sessionStorage.getItem(`scrollY-${i}`);r!==null&&(t.scrollTop=parseInt(r))}},50)};var Me=_('<span slot="header"><div class="bg-[var(--accent)] px-4 py-3 flex justify-center items-center rounded-t-lg gap-2"><!> <span class="text-white font-semibold text-xl ms-2"> </span></div></span>'),Ee=_('<span slot="body"><div class="p-4 text-center"><p class="text-gray-600 mt-2 font-medium text-base text-left"> </p> <div class="mt-4 relative"><input type="text" placeholder="Enter voucher code..." class="w-full border border-gray-300 rounded-lg p-2 py-4 pr-20 text-gray-700 focus:outline-none focus:ring-0"> <div class="absolute right-1 top-1/2 transform -translate-y-1/2"><!></div></div></div></span>');ve=function(m,t){R(t,!1);let i=I(t,"showModal",12,!1),r=I(t,"title",8),u=I(t,"id",8),l=I(t,"onSuccess",8,()=>{}),e=I(t,"onSubmit",8,async(d,N,b)=>{}),x=I(t,"instructionText",8),h=F("");function B(){i(!1),M(h,"")}async function T(){var d;((d=await e()(n(h),l(),u()))==null?void 0:d.error_code)===0&&B()}let g=F();function y(d){d.key==="Enter"&&T()}ne(()=>(we(i()),n(g)),()=>{i()&&n(g)&&n(g).focus()}),be(),H(),ft(m,{onClick:B,get open(){return i()},set open(d){i(d)},$$slots:{header:(d,N)=>{var b=Me(),E=o(b),$=o(E);vt($,{get src(){return se.ADD_CODE_IMG},alt:"",className:"w-9 h-9 min-w-9"});var C=f($,2),z=o(C,!0);s(C),s(E),s(b),q(()=>Q(z,r())),w(d,b)},body:(d,N)=>{var b=Ee(),E=o(b),$=o(E),C=o($,!0);s($);var z=f($,2),j=o(z);ot(j),ut(j,O=>M(g,O),()=>n(g));var D=f(j,2),Y=o(D);pe(Y,{label:"Join",type:"primary",customClass:"w-[100px]",onClick:()=>T()}),s(D),s(z),s(E),s(b),q(()=>Q(C,x())),pt(j,()=>n(h),O=>M(h,O)),dt("keydown",j,y),w(d,b)}},$$legacy:!0}),Z()};var ze=_('<div class="absolute top-0 left-0 right-0 w-full h-full p-2"><div class="bg-[#0c0c0ca4] flex items-center justify-center rounded-[15px] w-full h-full"><div class="flex flex-col items-center justify-center text-white"><img alt="Lock" class="w-24 mb-2 translate-x-4"> <!></div></div></div>'),Pe=_('<span class="text-sm sm:text-base font-normal text-gray-500 block mb-4 sm:mb-0"> </span>'),Be=_('<div class="mt-2 sm:mt-0"><!></div>'),De=_('<div class="absolute bottom-4 right-4 flex items-center space-x-[5px]"><div></div> <span> </span></div>'),Oe=_('<div><div class="h-60 relative overflow-hidden p-2 w-full h-full max-w-[400px] md:max-w-[2000px] md:w-[640px] md:h-[170px] lg:w-[912px] lg:h-[240px]"><picture><source media="(max-width: 768px)"> <img class="w-full h-full object-cover rounded-[15px]"></picture> <!></div> <div class="p-3 pb-8 pt-0 relative"><!> <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between"><div class="flex-1 min-w-0 pr-2"><h3 class="text-lg sm:text-xl lg:text-2xl font-medium break-words"> </h3> <!></div> <!></div> <!></div></div> <!>',1);function Ge(m,t){var C,z,j,D,Y,O;R(t,!1);const[i,r]=_e(),u=()=>ae(de,"$userStore",i),l=()=>ae(Ce,"$t",i);let e=I(t,"competition",24,()=>({id:1,title:"The Green Singapore Competition",image:"https://bonzo.knowledgeplatform.com/images/competitions/learning_playground_banner1.png",is_demo:!1,banner_image_mobile:"",is_private_comp_enabled:0,is_public:0,is_voucher_added:0,end_date:""})),x=F(0),h=F(!1),B=I(t,"onItemClick",8);const T=me(ct);let g=((C=u())==null?void 0:C.active_role)==="principal",y=(T==null?void 0:T.comp_banner_locked)&&!g&&((z=e())==null?void 0:z.is_private_comp_enabled)===1&&((j=e())==null?void 0:j.is_public)===0&&((D=e())==null?void 0:D.is_voucher_added)===0,d=new Date((Y=e())==null?void 0:Y.end_date)<new Date,N=(O=e())==null?void 0:O.is_demo;function b(G){B()(G)}function E(G){M(x,G),M(h,!0)}async function $(){M(h,!1),b(e().id)}H(),mt(m,{className:`${y?"lock-card-shadow":"card-button-shadow"} `,btnClass:`${y||g?"!cursor-default":""}`,onClick:!y&&!g?()=>b(e().id):void 0,children:(G,ge)=>{var W=Oe(),V=ce(W),K=o(V),J=o(K),a=o(J),S=f(a,2);s(J);var A=f(J,2);{var re=c=>{var p=ze(),k=o(p),v=o(k),te=o(v),le=f(te,2);const tt=L(()=>l()("unlock_the_competition"));pe(le,{get label(){return n(tt)},size:"large",type:"3d-secondary",customClass:"w-full",onClick:()=>{E(e().id)}}),s(v),s(k),s(p),q(()=>U(te,"src",se.LOCK_ICON)),w(c,p)};P(A,c=>{y&&c(re)})}s(K);var X=f(K,2),xe=o(X);{var Je=c=>{const p=L(()=>{var v;return(v=e())==null?void 0:v.lessons_completed}),k=L(()=>{var v;return(v=e())==null?void 0:v.total_lessons});gt(c,{get completed(){return n(p)},get total(){return n(k)},className:"h-2.5 mt-1",outsideLabel:!0})};P(xe,c=>{var p;(p=e())!=null&&p.enrolled&&!y&&c(Je)})}var oe=f(xe,2),ie=o(oe),ee=o(ie);it(ee,"mb-2",!g);var Ve=o(ee,!0);s(ee);var Ke=f(ee,2);{var Re=c=>{var p=Pe(),k=o(p);s(p),q(()=>{var v;return Q(k,`Total Players: ${((v=e())==null?void 0:v.total_players)??""}`)}),w(c,p)};P(Ke,c=>{g&&c(Re)})}s(ie);var Ze=f(ie,2);{var He=c=>{var p=Be(),k=o(p);const v=L(()=>l()("view_progress"));pe(k,{get label(){return n(v)},size:"small",type:"3d-secondary",customClass:"w-full sm:w-[200px]",onClick:()=>b(e().id)}),s(p),w(c,p)};P(Ze,c=>{g&&c(He)})}s(oe);var Qe=f(oe,2);{var Ue=c=>{var p=De(),k=o(p);$e(k,` w-3  h-3 rounded-full   ${N?"bg-[var(--badge-blue)]   ":d?"bg-[var(--badge-gray)]  ":"bg-[var(--badge-green)]  "}`);var v=f(k,2);$e(v,`text-sm sm:text-base leading-0 sm:leading-normal font-poppins font-semibold ${N?"text-[var(--badge-blue)]   ":d?"text-[var(--badge-gray)]  ":"text-[var(--badge-green)]  "}`);var te=o(v,!0);s(v),s(p),q(le=>Q(te,le),[()=>N?l()("demo"):d?l()("finished"):l()("live")],L),w(c,p)};P(Qe,c=>{g||c(Ue)})}s(X),s(V);var We=f(V,2);const Xe=L(()=>l()("add_voucher_code")),et=L(()=>l()("voucher_instruction"));ve(We,{get id(){return n(x)},onSuccess:$,onSubmit:lt,get title(){return n(Xe)},get instructionText(){return n(et)},get showModal(){return n(h)},set showModal(c){M(h,c)},$$legacy:!0}),q(()=>{U(a,"srcset",e().banner_image_mobile),U(S,"src",e().image),U(S,"alt",e().title),Q(Ve,e().title)}),w(G,W)},$$slots:{default:!0}}),Z(),r()}fe=(m,t,i,r="eng")=>{const u={text:""};if(!i||!m)return u;r=(r==null?void 0:r.trim())||"eng";const{principal:l={},paid_principal:e={},learner:x={}}=i;if(t===1)return{text:(e==null?void 0:e[r])||(e==null?void 0:e.eng)||u.text};switch(m){case"principal":return{text:(l==null?void 0:l[r])||(l==null?void 0:l.eng)||u.text};case"learner":default:return{text:(x==null?void 0:x[r])||(x==null?void 0:x.eng)||u.text}}};var Le=_('<div class="card-button-shadow bg-white card rounded-[20px] overflow-hidden flex justify-center items-center px-3 py-8 w-full h-full max-w-[400px] md:max-w-[2000px] md:w-[640px] lg:w-[912px]"><img class="mr-3 w-14 h-12 object-contain" alt="Button icon"> <div><!></div></div>');ue=function(m,t){R(t,!1);let i=I(t,"text",8);H();var r=Le(),u=o(r),l=f(u,2),e=o(l);wt(e,i),s(l),s(r),q(()=>U(u,"src",se.BANNER_CERT_IMG)),w(m,r),Z()};var Ye=_('<div class="md:max-w-[2000px] md:w-[640px] lg:w-[912px]"><!></div>'),Ae=_('<div class="w-full mb-8"><!></div> <div class="flex flex-col items-center space-y-8 bg-transparent mb-8 p-2 md:p-0"><!> <!> <!></div>',1);Se=function(m,t){var J;R(t,!1);const[i,r]=_e(),u=()=>ae(de,"$userStore",i),l=()=>ae(Ce,"$t",i),e=F(),x=F(),h=me(bt),B=JSON.parse(h.banner_text),T=me(de),{text:g}=fe(T==null?void 0:T.active_role,0,B==null?void 0:B.banner_text);let y=I(t,"competitions",24,()=>[{id:1,title:"The Green Singapore Competition",image:"https://bonzo.knowledgeplatform.com/images/competitions/learning_playground_banner1.png",is_demo:!1,banner_image_mobile:"",enrolled:1}]),d=F(0),N=((J=u())==null?void 0:J.active_role)==="principal",b=I(t,"onItemClick",8);function E(a){b()(a)}ne(()=>(n(d),we(y())),()=>{M(e,n(d)===0?y():y().filter(a=>a.enrolled===1))}),ne(()=>u(),()=>{var a;M(x,(a=u())==null?void 0:a.is_guest_mode)}),be(),H();var $=Ae(),C=ce($),z=o(C);{var j=a=>{rt(a,{get icon(){return se.COMPETITION_IMG},title:"competitions",imageClass:"w-9 h-11 sm:w-13 sm:h-11"})};P(z,a=>{N||a(j)})}s(C);var D=f(C,2),Y=o(D);{var O=a=>{const S=L(()=>[l()("all_competitions"),l()("my_competitions")]);xt(a,{get tabs(){return n(S)},className:"gap-6 w-3/4 sm:w-1/2 md:w-2/3 lg:w-1/2",get selectedTab(){return n(d)},set selectedTab(A){M(d,A)},$$legacy:!0})};P(Y,a=>{!n(x)&&!N&&a(O)})}var G=f(Y,2);{var ge=a=>{ue(a,{text:g})};P(G,a=>{!n(x)&&!N&&g&&a(ge)})}var W=f(G,2);{var V=a=>{var S=st(),A=ce(S);he(A,1,()=>n(e),ye,(re,X)=>{Ge(re,{get competition(){return n(X)},onItemClick:E})}),w(a,S)},K=a=>{var S=Ye(),A=o(S);_t(A,{noDataMsg:"No competitions found"}),s(S),w(a,S)};P(W,a=>{n(e).length>0?a(V):a(K,!1)})}s(D),w(m,$),Z(),r()};var qe=_('<div class="flex bg-gray-200 mx-auto rounded-2xl w-full h-70 max-w-[400px] md:max-w-[2000px] md:w-[640px] md:h-[230px] lg:w-[912px] lg:h-[300px]"></div>'),Fe=_('<div class="animate-pulse space-y-8 p-4 flex flex-col w-full"></div>');ke=function(m,t){R(t,!1);const i=Array(3).fill(0);H();var r=Fe();he(r,5,()=>i,ye,(u,l)=>{var e=qe();w(u,e)}),s(r),w(m,r),Z()}});export{ue as B,Se as C,ke as S,ve as V,ht as __tla,fe as g,Ie as m,Te as r};
